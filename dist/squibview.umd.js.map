{"version":3,"file":"squibview.umd.js","sources":["../src/squibview.js"],"sourcesContent":["/* SquibView a live md/html/etc Editor/renderer with copy support\n supports markdown, html, and split view\n supports copying of formatted html and markdown\n supports copying of images as data urls\n supports copying of svg as png\n supports copying of tables as formatted tables\n supports copying of code blocks as formatted tables\n by deftio (c) 2024\n*/\n\nclass SquibView {\n    static defaultOptions = {\n      initialContent: '',\n      showControls: true,\n      titleShow: false,        \n      titleContent: '',\n      initialView: 'split',\n      baseClass: 'squibview'\n    };\n\n    static version = {\n      version: \"0.0.25\",\n      url : \"https://github.com/deftio/squibview\"\n    };\n\n    constructor(element, options = {}) {\n      this.options = { ...SquibView.defaultOptions, ...options };\n      this.container = typeof element === 'string' ? document.querySelector(element) : element;\n\n      if (!this.container) {\n        throw new Error('Container element not found');\n      }\n\n      this.initializeLibraries();\n      this.createStructure();\n      this.initializeEventHandlers();\n      this.setContent(this.options.initialContent);\n      this.setView(this.options.initialView);\n      this.initializeResizeObserver();\n    }\n\n    initializeLibraries() {\n      mermaid.initialize({\n        startOnLoad: false,\n        securityLevel: 'loose',\n        theme: 'default',\n        errorCallback: function (error) {\n          console.warn(\"Mermaid error:\", error);\n          return \"<div class='mermaid-error'></div>\"; // Replace with custom message\n        }\n      });\n      mermaid.init(undefined, \".mermaid\"); \n      this.md = window.markdownit({\n        html: true,\n        linkify: true,\n        typographer: true,\n        highlight: (str, lang) => {\n          if (lang && hljs.getLanguage(lang)) {\n            try {\n              return hljs.highlight(str, { language: lang }).value;\n            } catch (__) { }\n          }\n          return '';\n        }\n      });\n\n      const defaultFence = this.md.renderer.rules.fence ||\n        ((tokens, idx, options, env, self) => self.renderToken(tokens, idx, options));\n\n      this.md.renderer.rules.fence = (tokens, idx, options, env, self) => {\n        const token = tokens[idx];\n        const info = token.info.trim();\n        if (info === 'mermaid') {\n          return '<div class=\"mermaid\">' + token.content + '</div>';\n        }\n        if (info === 'svg') {\n          return token.content;\n        }\n        return defaultFence(tokens, idx, options, env, self);\n      };\n    }\n\n    createStructure() {\n      this.container.classList.add(this.options.baseClass);\n\n      this.container.innerHTML = `\n        <div class=\"${this.options.baseClass}-title\" ${!this.options.titleShow ? 'style=\"display:none\"' : ''}>\n          ${this.options.titleContent}\n        </div>\n        <div class=\"${this.options.baseClass}-controls\" ${!this.options.showControls ? 'style=\"display:none\"' : ''}>\n          <button data-view=\"md\">Markdown</button>\n          <button data-view=\"html\">Rendered</button>\n          <button data-view=\"split\">Split</button>\n          <button class=\"copy-md-button\">Copy MD</button>\n          <button class=\"copy-html-button\">Copy Formatted</button>\n        </div>\n        <div class=\"${this.options.baseClass}-editor\">\n          <textarea class=\"${this.options.baseClass}-input\"></textarea>\n          <div class=\"${this.options.baseClass}-output\"></div>\n        </div>\n      `;\n\n      this.title = this.container.querySelector(`.${this.options.baseClass}-title`);\n      this.controls = this.container.querySelector(`.${this.options.baseClass}-controls`);\n      this.editor = this.container.querySelector(`.${this.options.baseClass}-editor`);\n      this.input = this.container.querySelector(`.${this.options.baseClass}-input`);\n      this.output = this.container.querySelector(`.${this.options.baseClass}-output`);\n    }\n\n    initializeEventHandlers() {\n      this.controls.querySelectorAll('button[data-view]').forEach(button => {\n        button.addEventListener('click', () => this.setView(button.dataset.view));\n      });\n\n      this.controls.querySelector('.copy-md-button').addEventListener('click', () => this.copyMarkdown());\n      this.controls.querySelector('.copy-html-button').addEventListener('click', () => this.copyHTML());\n\n      this.input.addEventListener('input', () => {\n        // use input type to call the renderMarkdown or renderHTML function\n        if (this.inputContentType === \"html\") {\n          this.writeHTMLContent(this.input.value)\n        } else {\n          this.renderMarkdown()\n        }\n      });\n    }\n\n    initializeResizeObserver() {\n      const resizeObserver = new ResizeObserver(entries => {\n        for (let entry of entries) {\n          if (entry.target === this.container) {\n            this.adjustLayout();\n          }\n        }\n      });\n      resizeObserver.observe(this.container);\n    }\n\n    adjustLayout() {\n      const containerRect = this.container.getBoundingClientRect();\n      const titleHeight = this.title.offsetHeight;\n      const controlsHeight = this.controls.offsetHeight;\n\n      const availableHeight = containerRect.height - titleHeight - controlsHeight;\n      const availableWidth = containerRect.width;\n      this.editor.style.height = `${availableHeight}px`;\n      this.editor.style.width = `${availableWidth}px`;\n\n      if (this.currentView === 'split') {\n        this.input.style.width = '50%';\n        this.output.style.width = '50%';\n      } else if (this.currentView === 'md') {\n        this.input.style.width = '100%';\n      } else if (this.currentView === 'html') {\n        this.output.style.width = '100%';\n      }\n    }\n\n    setContent(content, contentType = \"md\") {\n      this.input.value = content;\n      this.inputContentType = contentType;\n      if (contentType === \"md\") {\n        this.renderMarkdown();\n      } else if (contentType === \"html\") {\n        this.writeHTMLContent(content);\n      }\n    }\n\n    getContent() {\n      return this.input.value;\n    }\n\n    cleanMarkdown(md) {\n      return md.replace(/^```markdown\\s+/, '').replace(/```$/, '');\n    }\n\n    async renderMarkdown() {\n      const html = this.md.render(this.input.value);\n      this.output.innerHTML = \"<div contenteditable='true'>\" + html + \"</div>\";\n\n      // Convert all images to data URLs immediately after rendering\n      const contentDiv = this.output.querySelector('div[contenteditable=\"true\"]');\n      const images = contentDiv.querySelectorAll('img');\n\n      // render images to data urls\n\n      for (const img of images) {\n        try {\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n\n          // Create new image and wait for it to load\n          const tempImg = new Image();\n          tempImg.crossOrigin = 'anonymous';\n\n          await new Promise((resolve, reject) => {\n            tempImg.onload = () => {\n              // Set canvas size to match image\n              canvas.width = tempImg.naturalWidth;\n              canvas.height = tempImg.naturalHeight;\n\n              // Draw image to canvas\n              ctx.drawImage(tempImg, 0, 0);\n\n              // Convert to data URL\n              const dataUrl = canvas.toDataURL('image/png', 1.0);\n\n              // Update original image\n              img.src = dataUrl;\n              resolve();\n            };\n            tempImg.onerror = reject;\n            tempImg.src = img.src;\n          });\n        } catch (error) {\n          console.error('Failed to convert image:', error);\n        }\n\n      }\n\n      // end of images to data urls\n\n      // Initialize mermaid diagrams after all images are processed\n      mermaid.init(undefined, this.output.querySelectorAll('.mermaid'));\n    } // end of renderMarkdown\n\n    markdownRemoveAllHR  () {\n      if (this.inputContentType === \"md\") {\n        const markdown = this.getMarkdownSource();\n        const newMarkdown = markdown.replace(/---/g, '');\n        this.setContent(newMarkdown);\n      }\n    }\n\n    setView(view) {\n      this.currentView = view;\n\n      this.controls.querySelectorAll('button[data-view]').forEach(btn => {\n        btn.classList.toggle('active', btn.dataset.view === view);\n      });\n\n      const copyMDButton = this.controls.querySelector('.copy-md-button');\n      const copyHTMLButton = this.controls.querySelector('.copy-html-button');\n\n      if (view === 'md') {\n        this.input.classList.remove('squibview-hidden');\n        this.output.classList.add('squibview-hidden');\n        this.input.style.width = '100%';\n        copyMDButton.classList.remove('squibview-hidden');\n        copyHTMLButton.classList.add('squibview-hidden');\n      } else if (view === 'html') {\n        this.input.classList.add('squibview-hidden');\n        this.output.classList.remove('squibview-hidden');\n        this.output.style.width = '100%';\n        copyMDButton.classList.add('squibview-hidden');\n        copyHTMLButton.classList.remove('squibview-hidden');\n      } else {\n        this.input.classList.remove('squibview-hidden');\n        this.output.classList.remove('squibview-hidden');\n        this.input.style.width = '50%';\n        this.output.style.width = '50%';\n        copyMDButton.classList.remove('squibview-hidden');\n        copyHTMLButton.classList.remove('squibview-hidden');\n      }\n\n      this.adjustLayout();\n    }\n\n    async copyContent() {\n      const copyButton = this.controls.querySelector('.copy-button');\n      copyButton.textContent = 'Copying...';\n\n      try {\n        const contentDiv = this.output.querySelector('div[contenteditable=\"true\"]');\n        if (!contentDiv) {\n          throw new Error('Content div not found');\n        }\n\n        const clone = contentDiv.cloneNode(true);\n\n        clone.querySelectorAll('pre code').forEach(block => {\n          const formattedCode = block.innerHTML;\n\n          const table = document.createElement('table');\n          table.style.width = '100%';\n          table.style.borderCollapse = 'collapse';\n          table.style.border = 'none';\n\n          const tr = document.createElement('tr');\n          const td = document.createElement('td');\n          td.style.backgroundColor = '#f7f7f7';\n          td.style.padding = '12px';\n          td.style.fontFamily = 'Consolas, Monaco, \"Courier New\", monospace';\n          td.style.whiteSpace = 'pre';\n          td.style.border = 'none';\n\n          td.innerHTML = formattedCode.trim();\n\n          tr.appendChild(td);\n          table.appendChild(tr);\n          block.parentNode.replaceWith(table);\n        });\n\n        const svgElements = clone.querySelectorAll('svg');\n        for (const svg of svgElements) {\n          try {\n            const pngBlob = await this.svgToPng(svg);\n            const dataUrl = await new Promise(resolve => {\n              const reader = new FileReader();\n              reader.onloadend = () => resolve(reader.result);\n              reader.readAsDataURL(pngBlob);\n            });\n\n            const img = document.createElement('img');\n            img.src = dataUrl;\n            img.width = svg.clientWidth || svg.viewBox.baseVal.width || 100;\n            img.height = svg.clientHeight || svg.viewBox.baseVal.height || 100;\n            img.setAttribute('v:shapes', 'image' + Math.random().toString(36).substr(2, 9));\n            img.style.width = img.width + 'px';\n            img.style.height = img.height + 'px';\n            img.alt = \"Converted diagram\";\n            svg.parentNode.replaceChild(img, svg);\n          } catch (error) {\n            console.error('Failed to convert SVG:', error);\n          }\n        }\n\n\n        // Convert all images to data URLs\n        const imgElements = clone.querySelectorAll('img');\n        await Promise.all(imgElements.map(async img => {\n          console.log('Converting image:', img.src);\n\n          // Create canvas\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n\n          // Create new image and wait for it to load completely\n          const tempImg = new Image();\n          tempImg.crossOrigin = 'anonymous';\n\n          try {\n            await new Promise((resolve, reject) => {\n              tempImg.onload = resolve;\n              tempImg.onerror = reject;\n              tempImg.src = img.src;\n            });\n\n            // Set dimensions\n            canvas.width = tempImg.offsetWidth || img.offsetWidth || 200;\n            canvas.height = tempImg.offsetHeight || img.offsetHeight || 200;\n\n            // Draw and convert\n            ctx.drawImage(tempImg, 0, 0);\n            const dataUrl = canvas.toDataURL('image/png', 1.0);\n\n            // Create and wait for new image with data URL\n            const newImg = new Image();\n            await new Promise((resolve, reject) => {\n              newImg.onload = () => {\n                newImg.alt = img.alt || 'Converted image';\n                newImg.width = canvas.width;\n                newImg.height = canvas.height;\n                newImg.style.cssText = img.style.cssText;\n                // Force image to be treated as embedded\n                newImg.setAttribute('data-embedded', 'true');\n                // Replace the old image\n                img.parentNode.replaceChild(newImg, img);\n                console.log('Successfully converted image to data URL');\n                resolve();\n              };\n              newImg.onerror = reject;\n              newImg.src = dataUrl;\n            });\n          } catch (error) {\n            console.error('Error converting image:', error, img.src);\n            // Don't rethrow - we want to continue with other images\n          }\n        }));\n\n\n        const clipData = new ClipboardItem({\n          'text/html': new Blob([`\n            <html xmlns:v=\"urn:schemas-microsoft-com:vml\"\n                  xmlns:o=\"urn:schemas-microsoft-com:office:office\"\n                  xmlns:w=\"urn:schemas-microsoft-com:office:word\">\n              <head>\n                <meta charset=\"utf-8\">\n                <style>\n                  table { border-collapse: collapse; width: 100%; margin-bottom: 1em; }\n                  th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n                  th { background-color: #f0f0f0; font-weight: bold; }\n\n                  /* Code block styling */\n                  .hljs { display: block; overflow-x: auto; padding: 1em; }\n                  .hljs-keyword { color: #0033B3; }\n                  .hljs-string { color: #067D17; }\n                  .hljs-comment { color: #8C8C8C; }\n                  .hljs-function { color: #00627A; }\n                  .hljs-number { color: #1750EB; }\n                  .hljs-operator { color: #687687; }\n                  .hljs-punctuation { color: #000000; }\n\n                  /* Word-specific image handling */\n                  img { display: block; max-width: none; }\n                </style>\n              </head>\n              <body>\n                ${clone.innerHTML}\n              </body>\n            </html>\n          `], { type: 'text/html' }),\n          'text/plain': new Blob([clone.innerText], { type: 'text/plain' })\n        });\n\n        await navigator.clipboard.write([clipData]);\n        copyButton.textContent = 'Copied!';\n      } catch (err) {\n        console.error('Copy failed:', err);\n        copyButton.textContent = 'Copy failed';\n      }\n\n      setTimeout(() => {\n        copyButton.textContent = 'Copy';\n      }, 2000);\n    }\n\n    svgToPng(svgElement) {\n      return new Promise((resolve, reject) => {\n        const svgString = new XMLSerializer().serializeToString(svgElement);\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n\n        const scale = 2;\n        const svgWidth = svgElement.clientWidth || svgElement.viewBox.baseVal.width || 100;\n        const svgHeight = svgElement.clientHeight || svgElement.viewBox.baseVal.height || 100;\n\n        canvas.width = svgWidth * scale;\n        canvas.height = svgHeight * scale;\n        ctx.scale(scale, scale);\n\n        img.onload = () => {\n          try {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.drawImage(img, 0, 0, svgWidth, svgHeight);\n            canvas.toBlob(blob => {\n              resolve(blob);\n            }, 'image/png', 1.0);\n          } catch (err) {\n            reject(err);\n          }\n        };\n\n        img.onerror = reject;\n        const svgDataUrl = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(svgString)}`;\n        img.src = svgDataUrl;\n      });\n    }\n\n    controlsShow(show) {\n      this.controls.style.display = show ? '' : 'none';\n      this.options.showControls = show;\n      this.adjustLayout();\n    }\n\n    titleShow(show) {\n      this.title.style.display = show ? '' : 'none';\n      this.options.titleShow = show;\n      this.adjustLayout();\n    }\n\n    titleSetContent(content) {\n      this.title.innerHTML = content;\n      this.options.titleContent = content;\n    }\n\n    titleGetContent() {\n      return this.title.innerHTML;\n    }\n\n    getMarkdownSource() {\n      return this.input.value;\n    }\n\n    getHTMLSource() {\n      return this.output.querySelector('div[contenteditable=\"true\"]').innerHTML;\n    }\n\n    // Standalone function to toggle between Markdown preview and split view\n    toggleView() {\n      const editor = window.editor;\n      if (editor.currentView === 'md') {\n        editor.setView('split');\n      } else if (editor.currentView === 'split') {\n        editor.setView('html');\n      } else\n        editor.setView('md')\n\n      console.log(editor.currentView)\n    }\n\n    /**\n     * Creates an iframe that fills the entire parent element and injects provided HTML content.\n     * @param {HTMLElement} parentElement - The parent element to contain the iframe.\n     * @param {string} htmlContent - The HTML content to inject into the iframe.\n     */\n    insertContentInIframe(parentElement, htmlContent) {\n      // Create an iframe element\n      const iframe = document.createElement('iframe');\n\n      // Style the iframe to fill the parent completely\n      iframe.style.width = '100%';\n      iframe.style.height = '100%';\n      iframe.style.border = 'none';\n      iframe.style.display = 'block';\n\n      //iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\n      // Append the iframe to the parent element\n      parentElement.innerHTML = '';\n      parentElement.appendChild(iframe);\n\n      // Access the iframe's document and write the HTML content into it\n      const iframeDoc = iframe.contentWindow.document;\n      iframeDoc.open();\n      iframeDoc.write(htmlContent);\n      iframeDoc.close();\n      this.output_iframe = iframe\n      this.output_ifraome_content = htmlContent;\n    }\n    // this function takes input as html and renders it in an iframe in the output div\n    // it write to the outputDiv that is a member of this object\n    writeHTMLContent(src) {\n      const htmlContent = src;\n      const outputDiv = this.output;\n      this.insertContentInIframe(outputDiv, htmlContent);\n    }\n\n    async copyMarkdown() {\n      const copyButton = this.controls.querySelector('.copy-md-button');\n      copyButton.textContent = 'Copying...';\n\n      try {\n        const markdownText = this.getMarkdownSource();\n\n        try {\n          await navigator.clipboard.writeText(markdownText);\n        } catch (modernErr) {\n          const textarea = document.createElement('textarea');\n          textarea.value = markdownText;\n          textarea.style.position = 'fixed';\n          textarea.style.opacity = '0';\n          document.body.appendChild(textarea);\n          textarea.select();\n\n          const successful = document.execCommand('copy');\n          document.body.removeChild(textarea);\n\n          if (!successful) throw new Error('Fallback copy failed');\n        }\n\n        copyButton.textContent = 'Copied!';\n      } catch (err) {\n        console.error('Copy Markdown failed:', err);\n        copyButton.textContent = 'Copy failed';\n      }\n\n      setTimeout(() => {\n        copyButton.textContent = 'Copy MD';\n      }, 2000);\n    }\n\n    async copyHTML() {\n      const copyButton = this.controls.querySelector('.copy-html-button');\n      copyButton.textContent = 'Copying...';\n\n      try {\n        const contentDiv = this.output.querySelector('div[contenteditable=\"true\"]');\n        if (!contentDiv) {\n          throw new Error('Content div not found');\n        }\n\n        const clone = contentDiv.cloneNode(true);\n\n        // Process code blocks\n        clone.querySelectorAll('pre code').forEach(block => {\n          const formattedCode = block.innerHTML;\n\n          const table = document.createElement('table');\n          table.style.width = '100%';\n          table.style.borderCollapse = 'collapse';\n          table.style.border = 'none';\n\n          const tr = document.createElement('tr');\n          const td = document.createElement('td');\n          td.style.backgroundColor = '#f7f7f7';\n          td.style.padding = '12px';\n          td.style.fontFamily = 'Consolas, Monaco, \"Courier New\", monospace';\n          td.style.whiteSpace = 'pre';\n          td.style.border = 'none';\n\n          td.innerHTML = formattedCode.trim();\n\n          tr.appendChild(td);\n          table.appendChild(tr);\n          block.parentNode.replaceWith(table);\n        });\n\n        // Convert SVG elements to PNG\n        const svgElements = clone.querySelectorAll('svg');\n        for (const svg of svgElements) {\n          try {\n            const pngBlob = await this.svgToPng(svg);\n            const dataUrl = await new Promise(resolve => {\n              const reader = new FileReader();\n              reader.onloadend = () => resolve(reader.result);\n              reader.readAsDataURL(pngBlob);\n            });\n\n            const img = document.createElement('img');\n            img.src = dataUrl;\n            img.width = svg.clientWidth || svg.viewBox.baseVal.width || 100;\n            img.height = svg.clientHeight || svg.viewBox.baseVal.height || 100;\n            img.setAttribute('v:shapes', 'image' + Math.random().toString(36).substr(2, 9));\n            img.style.width = img.width + 'px';\n            img.style.height = img.height + 'px';\n            img.alt = \"Converted diagram\";\n            svg.parentNode.replaceChild(img, svg);\n          } catch (error) {\n            console.error('Failed to convert SVG:', error);\n          }\n        }\n\n        const htmlContent = `\n          <html xmlns:v=\"urn:schemas-microsoft-com:vml\"\n                xmlns:o=\"urn:schemas-microsoft-com:office:office\"\n                xmlns:w=\"urn:schemas-microsoft-com:office:word\">\n            <head>\n              <meta charset=\"utf-8\">\n              <style>\n                table { border-collapse: collapse; width: 100%; margin-bottom: 1em; }\n                th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n                th { background-color: #f0f0f0; font-weight: bold; }\n\n                /* Code block styling */\n                .hljs { display: block; overflow-x: auto; padding: 1em; }\n                .hljs-keyword { color: #0033B3; }\n                .hljs-string { color: #067D17; }\n                .hljs-comment { color: #8C8C8C; }\n                .hljs-function { color: #00627A; }\n                .hljs-number { color: #1750EB; }\n                .hljs-operator { color: #687687; }\n                .hljs-punctuation { color: #000000; }\n\n                /* Word-specific image handling */\n                img { display: block; max-width: none; }\n              </style>\n            </head>\n            <body>\n              ${clone.innerHTML}\n            </body>\n          </html>`;\n\n        const platform = this.getPlatform();\n\n        if (platform === 'macos') {\n          // macOS approach (previously working version)\n          try {\n            await navigator.clipboard.write([\n              new ClipboardItem({\n                'text/html': new Blob([htmlContent], { type: 'text/html' }),\n                'text/plain': new Blob([clone.innerText], { type: 'text/plain' })\n              })\n            ]);\n          } catch (modernErr) {\n            // Safari fallback\n            if (!this.copyToClipboard(htmlContent)) {\n              throw new Error('Fallback copy failed');\n            }\n          }\n        } else {\n          // Windows/Linux approach\n          const tempDiv = document.createElement('div');\n          tempDiv.style.position = 'fixed';\n          tempDiv.style.left = '-9999px';\n          tempDiv.style.top = '0';\n          tempDiv.innerHTML = htmlContent;\n          document.body.appendChild(tempDiv);\n\n          try {\n            await navigator.clipboard.write([\n              new ClipboardItem({\n                'text/html': new Blob([htmlContent], { type: 'text/html' }),\n                'text/plain': new Blob([clone.innerText], { type: 'text/plain' })\n              })\n            ]);\n          } catch (modernErr) {\n            const selection = window.getSelection();\n            const range = document.createRange();\n            range.selectNodeContents(tempDiv);\n            selection.removeAllRanges();\n            selection.addRange(range);\n\n            const successful = document.execCommand('copy');\n            if (!successful) {\n              throw new Error('Fallback copy failed');\n            }\n          } finally {\n            if (tempDiv && tempDiv.parentNode) {\n              document.body.removeChild(tempDiv);\n            }\n          }\n        }\n\n        copyButton.textContent = 'Copied!';\n      } catch (err) {\n        console.error('Copy HTML failed:', err);\n        copyButton.textContent = 'Copy failed';\n      }\n\n      setTimeout(() => {\n        copyButton.textContent = 'Copy Formatted';\n      }, 2000);\n    }\n\n    getVersion() {\n      return GraphicalMD.version;\n    }\n\n    copyToClipboard(string) {\n      let textarea;\n      let result;\n\n      try {\n        textarea = document.createElement('textarea');\n        textarea.setAttribute('readonly', true);\n        textarea.setAttribute('contenteditable', true);\n        textarea.style.position = 'fixed';\n        textarea.style.left = '0';\n        textarea.style.top = '0';\n        textarea.style.opacity = '0';\n        textarea.value = string;\n\n        document.body.appendChild(textarea);\n\n        textarea.focus();\n        textarea.select();\n\n        const range = document.createRange();\n        range.selectNodeContents(textarea);\n\n        const sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n\n        textarea.setSelectionRange(0, textarea.value.length);\n        result = document.execCommand('copy');\n      } catch (err) {\n        console.error(err);\n        result = null;\n      } finally {\n        if (textarea && textarea.parentNode) {\n          document.body.removeChild(textarea);\n        }\n      }\n\n      // manual copy fallback using prompt\n      if (!result) {\n        const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n        const copyHotkey = isMac ? 'âŒ˜C' : 'CTRL+C';\n        result = prompt(`Press ${copyHotkey}`, string);\n        if (!result) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    getPlatform() {\n      const platform = navigator.platform.toLowerCase();\n      const userAgent = navigator.userAgent.toLowerCase();\n\n      if (platform.includes('mac') || userAgent.includes('mac')) {\n        return 'macos';\n      } else if (userAgent.includes('windows')) {\n        return 'windows';\n      } else if (userAgent.includes('linux')) {\n        return 'linux';\n      }\n      return 'unknown';\n    }\n\n    // Make a complete HTML page from a div (or any html snippet) with optional editability\n    makeHTMLPageFromDiv(inputDivHTML, editable = false) {\n      let editableAttr = editable ? 'contenteditable=\"true\"' : '';\n      let s =\n        `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Markdown Viewer with Graphics Support</title>\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css\">\n  <xscripx src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js\"></xscripx>\n  <xscripx src=\"https://unpkg.com/mermaid/dist/mermaid.min.js\"></xscripx>\n  <style>\n      body {\n          font-family: Arial, sans-serif;\n          /* margin: 20px; */\n          box-sizing: border-box;\n          padding: 20px;\n      }\n      .squibview-output {\n          width: 50%;\n          margin: auto;\n      }\n      pre {\n          background-color: #f4f4f4;\n          padding: 10px;\n          border-radius: 5px;\n          overflow-x: auto;\n      }\n      table {\n          width: 100%;\n          border-collapse: collapse;\n          margin: 20px 0;\n      }\n      table, th, td {\n          border: 1px solid black;\n      }\n      th, td {\n          padding: 8px;\n          text-align: left;\n      }\n  </style>\n</head>\n<body ${editableAttr}>\n  ${inputDivHTML}\n</body>\n</html>`;\n      // now we need to remove the temp-script tag with the script in it.\n      // we do this with a regex search/replace\n      s = s.replaceAll(\"xscripx\", \"script\");\n      console.log(editableAttr);\n      return s;\n    }\n\n    makeRevealJSFullPage(markdown, title = \"Reveal.js Markdown Presentation\") {\n      return `<!DOCTYPE html>\n  <html lang=\"en\">\n  <head>\n      <meta charset=\"utf-8\">\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n      <title>${title}</title>\n      <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.css\">\n      <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/reveal.js/dist/theme/black.css\">\n      <script src=\"https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js\"></script>\n  </head>\n  <body>\n      <div class=\"reveal\">\n          <div class=\"slides\">\n              ${markdown.split('---').map(slide => `<section data-markdown><script type=\"text/template\">${slide.trim()}</script></section>`).join('\\n')}\n          </div>\n      </div>\n      <script src=\"https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.js\"></script>\n      <script src=\"https://cdn.jsdelivr.net/npm/reveal.js/plugin/markdown/markdown.js\"></script>\n      <script>\n          Reveal.initialize({\n              plugins: [ RevealMarkdown ]\n          });\n          \n          // Ensure Mermaid diagrams initialize correctly\n          document.addEventListener('DOMContentLoaded', () => {\n              mermaid.initialize({ startOnLoad: true , securityLevel: 'loose', theme: 'dark' });\n              document.querySelectorAll('.mermaid').forEach(el => {\n                  el.innerHTML = el.textContent;\n                  mermaid.init(undefined, el);\n              });\n          });\n      </script>\n  </body>\n  </html>`;\n  }\n  \n\n\n}// end of class SquibView\n\nexport default SquibView;\n"],"names":["SquibView","element","options","arguments","length","undefined","_classCallCheck","_objectSpread","defaultOptions","container","document","querySelector","Error","initializeLibraries","createStructure","initializeEventHandlers","setContent","initialContent","setView","initialView","initializeResizeObserver","_createClass","key","value","mermaid","initialize","startOnLoad","securityLevel","theme","errorCallback","error","console","warn","init","md","window","markdownit","html","linkify","typographer","highlight","str","lang","hljs","getLanguage","language","__","defaultFence","renderer","rules","fence","tokens","idx","env","self","renderToken","token","info","trim","content","classList","add","baseClass","innerHTML","concat","titleShow","titleContent","showControls","title","controls","editor","input","output","_this","querySelectorAll","forEach","button","addEventListener","dataset","view","copyMarkdown","copyHTML","inputContentType","writeHTMLContent","renderMarkdown","_this2","resizeObserver","ResizeObserver","entries","_iterator","_createForOfIteratorHelper","_step","s","n","done","entry","target","adjustLayout","err","e","f","observe","containerRect","getBoundingClientRect","titleHeight","offsetHeight","controlsHeight","availableHeight","height","availableWidth","width","style","currentView","contentType","getContent","cleanMarkdown","replace","_renderMarkdown","_asyncToGenerator","_regeneratorRuntime","mark","_callee","contentDiv","images","_iterator2","_step2","_loop","wrap","_callee$","_context2","prev","next","render","img","canvas","ctx","tempImg","_loop$","_context","createElement","getContext","Image","crossOrigin","Promise","resolve","reject","onload","naturalWidth","naturalHeight","drawImage","dataUrl","toDataURL","src","onerror","t0","stop","delegateYield","t1","finish","apply","markdownRemoveAllHR","markdown","getMarkdownSource","newMarkdown","btn","toggle","copyMDButton","copyHTMLButton","remove","_copyContent","_callee3","_this3","copyButton","clone","svgElements","_iterator3","_step3","_loop2","imgElements","clipData","_callee3$","_context5","textContent","cloneNode","block","formattedCode","table","borderCollapse","border","tr","td","backgroundColor","padding","fontFamily","whiteSpace","appendChild","parentNode","replaceWith","svg","pngBlob","_loop2$","_context4","svgToPng","sent","reader","FileReader","onloadend","result","readAsDataURL","clientWidth","viewBox","baseVal","clientHeight","setAttribute","Math","random","toString","substr","alt","replaceChild","all","map","_ref","_callee2","newImg","_callee2$","_context3","log","offsetWidth","cssText","_x","ClipboardItem","Blob","type","innerText","navigator","clipboard","write","t2","setTimeout","copyContent","svgElement","svgString","XMLSerializer","serializeToString","scale","svgWidth","svgHeight","clearRect","toBlob","blob","svgDataUrl","encodeURIComponent","controlsShow","show","display","titleSetContent","titleGetContent","getHTMLSource","toggleView","insertContentInIframe","parentElement","htmlContent","iframe","iframeDoc","contentWindow","open","close","output_iframe","output_ifraome_content","outputDiv","_copyMarkdown","_callee4","markdownText","textarea","successful","_callee4$","_context6","writeText","position","opacity","body","select","execCommand","removeChild","_copyHTML","_callee5","_this4","_iterator4","_step4","_loop3","platform","tempDiv","selection","range","_callee5$","_context8","_loop3$","_context7","getPlatform","copyToClipboard","left","top","t3","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","t4","getVersion","GraphicalMD","version","string","focus","sel","setSelectionRange","isMac","toUpperCase","indexOf","copyHotkey","prompt","toLowerCase","userAgent","includes","makeHTMLPageFromDiv","inputDivHTML","editable","editableAttr","replaceAll","makeRevealJSFullPage","split","slide","join","_defineProperty","url"],"mappings":"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"}