import t from"react";import e from"./squibview.js";function n(t,e,n){return e=i(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],i(t).constructor):e.apply(t,n))}function o(t,e,n){return e&&function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,c(o.key),o)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t,e,n){return(e=c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function c(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e);if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:e+""}var u=["className"],l=function(){function i(e){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(o=n(this,i,[e])).containerRef=t.createRef(),o.state={editor:null,content:e.initialContent||""},o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(i,t.Component),o(i,[{key:"componentDidMount",value:function(){var t=this;if(this.containerRef.current){var n=new e(this.containerRef.current,{initialContent:this.props.initialContent,inputContentType:this.props.inputContentType,showControls:this.props.showControls,initialView:this.props.initialView,titleShow:this.props.titleShow,titleContent:this.props.titleContent}),o=n.setContent.bind(n);n.setContent=function(e,n,r){o(e,n,r),t.setState({content:e}),t.props.onChange&&t.props.onChange(e,n)};var r=n.setView.bind(n);n.setView=function(e){r(e),t.props.onViewChange&&t.props.onViewChange(e)},n.events.on("content:rendered",(function(e){t.props.onContentRendered&&t.props.onContentRendered(e)})),n.events.on("revision:undo",(function(e,n){t.props.onUndoRedo&&t.props.onUndoRedo("undo",e,n)})),n.events.on("revision:redo",(function(e,n){t.props.onUndoRedo&&t.props.onUndoRedo("redo",e,n)})),this.setState({editor:n})}}},{key:"componentDidUpdate",value:function(t){this.state.editor&&this.props.initialContent!==t.initialContent&&(this.state.editor.setContent(this.props.initialContent,this.props.inputContentType||this.state.editor.inputContentType,!1),this.setState({content:this.props.initialContent})),this.state.editor&&this.props.inputContentType!==t.inputContentType&&this.state.editor.setContent(this.state.editor.getContent(),this.props.inputContentType,!1),this.state.editor&&this.props.initialView!==t.initialView&&this.state.editor.setView(this.props.initialView),this.state.editor&&this.props.showControls!==t.showControls&&this.state.editor.controlsShow(this.props.showControls),this.state.editor&&this.props.titleShow!==t.titleShow&&this.state.editor.titleShow(this.props.titleShow),this.state.editor&&this.props.titleContent!==t.titleContent&&this.state.editor.titleSetContent(this.props.titleContent)}},{key:"componentWillUnmount",value:function(){this.state.editor&&this.state.editor.events&&this.state.editor.events.off("*")}},{key:"render",value:function(){var e=this.props,n=e.className,o=function(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(-1!==e.indexOf(o))continue;n[o]=t[o]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(e,u);return t.createElement("div",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({ref:this.containerRef,className:"squibview-react-container ".concat(n||"")},o))}}])}();l.propTypes={},l.defaultProps={initialContent:"",inputContentType:"md",showControls:!0,initialView:"split",titleShow:!1,titleContent:"",className:""};export{l as default};
//# sourceMappingURL=squibview-react.min.js.map
