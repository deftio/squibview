{"version":3,"file":"squibview-vue.js","sources":["../src/SquibViewVue.js"],"sourcesContent":["import SquibView from './squibview.js';\n\nexport default {\n  name: 'SquibViewVue',\n  props: {\n    initialContent: {\n      type: String,\n      default: ''\n    },\n    inputContentType: {\n      type: String,\n      default: 'md'\n    },\n    showControls: {\n      type: Boolean,\n      default: true\n    },\n    initialView: {\n      type: String,\n      default: 'split'\n    },\n    titleShow: {\n      type: Boolean,\n      default: false\n    },\n    titleContent: {\n      type: String,\n      default: ''\n    },\n    className: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      editor: null\n    };\n  },\n  mounted() {\n    this.initializeEditor();\n  },\n  methods: {\n    initializeEditor() {\n      this.editor = new SquibView(this.$refs.container, {\n        initialContent: this.initialContent,\n        inputContentType: this.inputContentType,\n        showControls: this.showControls,\n        initialView: this.initialView,\n        titleShow: this.titleShow,\n        titleContent: this.titleContent\n      });\n      \n      // Override methods to emit events\n      const originalSetContent = this.editor.setContent.bind(this.editor);\n      this.editor.setContent = (content, type, saveRevision) => {\n        originalSetContent(content, type, saveRevision);\n        this.$emit('content-change', content, type);\n      };\n      \n      const originalSetView = this.editor.setView.bind(this.editor);\n      this.editor.setView = (view) => {\n        originalSetView(view);\n        this.$emit('view-change', view);\n      };\n      \n      // Listen for editor events and re-emit them\n      this.editor.events.on('content:rendered', (contentType) => {\n        this.$emit('content-rendered', contentType);\n      });\n      \n      this.editor.events.on('revision:undo', (content, contentType) => {\n        this.$emit('revision-undo', content, contentType);\n      });\n      \n      this.editor.events.on('revision:redo', (content, contentType) => {\n        this.$emit('revision-redo', content, contentType);\n      });\n    }\n  },\n  watch: {\n    initialContent(newContent) {\n      if (this.editor && newContent !== this.editor.getContent()) {\n        this.editor.setContent(newContent, this.inputContentType || this.editor.inputContentType, false);\n      }\n    },\n    inputContentType(newType) {\n      if (this.editor && newType !== this.editor.inputContentType) {\n        this.editor.setContent(this.editor.getContent(), newType, false);\n      }\n    },\n    showControls(show) {\n      if (this.editor) {\n        this.editor.controlsShow(show);\n      }\n    },\n    titleShow(show) {\n      if (this.editor) {\n        this.editor.titleShow(show);\n      }\n    },\n    titleContent(content) {\n      if (this.editor) {\n        this.editor.titleSetContent(content);\n      }\n    },\n    initialView(view) {\n      if (this.editor) {\n        this.editor.setView(view);\n      }\n    }\n  },\n  beforeUnmount() {\n    // Cleanup if necessary\n    if (this.editor && this.editor.events) {\n      this.editor.events.off('*');\n    }\n  },\n  template: `\n    <div ref=\"container\" :class=\"['squibview-vue-container', className]\"></div>\n  `\n};"],"names":["name","props","initialContent","type","String","inputContentType","showControls","Boolean","initialView","titleShow","titleContent","className","data","editor","mounted","initializeEditor","methods","_this","SquibView","$refs","container","originalSetContent","setContent","bind","content","saveRevision","$emit","originalSetView","setView","view","events","on","contentType","watch","newContent","getContent","newType","show","controlsShow","titleSetContent","beforeUnmount","off","template"],"mappings":"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"}