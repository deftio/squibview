{"version":3,"file":"squibview.umd.min.js","sources":["../src/squibview.js"],"sourcesContent":["/* SquibView a live md/html/etc Editor/renderer with copy support\n supports markdown, html, and split view\n supports copying of formatted html and markdown\n supports copying of images as data urls\n supports copying of svg as png\n supports copying of tables as formatted tables\n supports copying of code blocks as formatted tables\n by deftio (c) 2024\n*/\n\nclass SquibView {\n    static defaultOptions = {\n      initialContent: '',\n      showControls: true,\n      titleShow: false,        \n      titleContent: '',\n      initialView: 'split',\n      baseClass: 'squibview'\n    };\n\n    static version = {\n      version: \"0.0.24\",\n      url : \"https://github.com/deftio/squibview\"\n    };\n\n    constructor(element, options = {}) {\n      this.options = { ...SquibView.defaultOptions, ...options };\n      this.container = typeof element === 'string' ? document.querySelector(element) : element;\n\n      if (!this.container) {\n        throw new Error('Container element not found');\n      }\n\n      this.initializeLibraries();\n      this.createStructure();\n      this.initializeEventHandlers();\n      this.setContent(this.options.initialContent);\n      this.setView(this.options.initialView);\n      this.initializeResizeObserver();\n    }\n\n    initializeLibraries() {\n      mermaid.initialize({\n        startOnLoad: false,\n        securityLevel: 'loose',\n        theme: 'default',\n        errorCallback: function (error) {\n          console.warn(\"Mermaid error:\", error);\n          return \"<div class='mermaid-error'></div>\"; // Replace with custom message\n        }\n      });\n      mermaid.init(undefined, \".mermaid\"); \n      this.md = window.markdownit({\n        html: true,\n        linkify: true,\n        typographer: true,\n        highlight: (str, lang) => {\n          if (lang && hljs.getLanguage(lang)) {\n            try {\n              return hljs.highlight(str, { language: lang }).value;\n            } catch (__) { }\n          }\n          return '';\n        }\n      });\n\n      const defaultFence = this.md.renderer.rules.fence ||\n        ((tokens, idx, options, env, self) => self.renderToken(tokens, idx, options));\n\n      this.md.renderer.rules.fence = (tokens, idx, options, env, self) => {\n        const token = tokens[idx];\n        const info = token.info.trim();\n        if (info === 'mermaid') {\n          return '<div class=\"mermaid\">' + token.content + '</div>';\n        }\n        if (info === 'svg') {\n          return token.content;\n        }\n        return defaultFence(tokens, idx, options, env, self);\n      };\n    }\n\n    createStructure() {\n      this.container.classList.add(this.options.baseClass);\n\n      this.container.innerHTML = `\n        <div class=\"${this.options.baseClass}-title\" ${!this.options.titleShow ? 'style=\"display:none\"' : ''}>\n          ${this.options.titleContent}\n        </div>\n        <div class=\"${this.options.baseClass}-controls\" ${!this.options.showControls ? 'style=\"display:none\"' : ''}>\n          <button data-view=\"md\">Markdown</button>\n          <button data-view=\"html\">Rendered</button>\n          <button data-view=\"split\">Split</button>\n          <button class=\"copy-md-button\">Copy MD</button>\n          <button class=\"copy-html-button\">Copy Formatted</button>\n        </div>\n        <div class=\"${this.options.baseClass}-editor\">\n          <textarea class=\"${this.options.baseClass}-input\"></textarea>\n          <div class=\"${this.options.baseClass}-output\"></div>\n        </div>\n      `;\n\n      this.title = this.container.querySelector(`.${this.options.baseClass}-title`);\n      this.controls = this.container.querySelector(`.${this.options.baseClass}-controls`);\n      this.editor = this.container.querySelector(`.${this.options.baseClass}-editor`);\n      this.input = this.container.querySelector(`.${this.options.baseClass}-input`);\n      this.output = this.container.querySelector(`.${this.options.baseClass}-output`);\n    }\n\n    initializeEventHandlers() {\n      this.controls.querySelectorAll('button[data-view]').forEach(button => {\n        button.addEventListener('click', () => this.setView(button.dataset.view));\n      });\n\n      this.controls.querySelector('.copy-md-button').addEventListener('click', () => this.copyMarkdown());\n      this.controls.querySelector('.copy-html-button').addEventListener('click', () => this.copyHTML());\n\n      this.input.addEventListener('input', () => {\n        // use input type to call the renderMarkdown or renderHTML function\n        if (this.inputContentType === \"html\") {\n          this.writeHTMLContent(this.input.value)\n        } else {\n          this.renderMarkdown()\n        }\n      });\n    }\n\n    initializeResizeObserver() {\n      const resizeObserver = new ResizeObserver(entries => {\n        for (let entry of entries) {\n          if (entry.target === this.container) {\n            this.adjustLayout();\n          }\n        }\n      });\n      resizeObserver.observe(this.container);\n    }\n\n    adjustLayout() {\n      const containerRect = this.container.getBoundingClientRect();\n      const titleHeight = this.title.offsetHeight;\n      const controlsHeight = this.controls.offsetHeight;\n\n      const availableHeight = containerRect.height - titleHeight - controlsHeight;\n      const availableWidth = containerRect.width;\n      this.editor.style.height = `${availableHeight}px`;\n      this.editor.style.width = `${availableWidth}px`;\n\n      if (this.currentView === 'split') {\n        this.input.style.width = '50%';\n        this.output.style.width = '50%';\n      } else if (this.currentView === 'md') {\n        this.input.style.width = '100%';\n      } else if (this.currentView === 'html') {\n        this.output.style.width = '100%';\n      }\n    }\n\n    setContent(content, contentType = \"md\") {\n      this.input.value = content;\n      this.inputContentType = contentType;\n      if (contentType === \"md\") {\n        this.renderMarkdown();\n      } else if (contentType === \"html\") {\n        this.writeHTMLContent(content);\n      }\n    }\n\n    getContent() {\n      return this.input.value;\n    }\n\n    cleanMarkdown(md) {\n      return md.replace(/^```markdown\\s+/, '').replace(/\\s+```$/, '');\n    }\n\n    async renderMarkdown() {\n      const html = this.md.render(this.input.value);\n      this.output.innerHTML = \"<div contenteditable='true'>\" + html + \"</div>\";\n\n      // Convert all images to data URLs immediately after rendering\n      const contentDiv = this.output.querySelector('div[contenteditable=\"true\"]');\n      const images = contentDiv.querySelectorAll('img');\n\n      // render images to data urls\n\n      for (const img of images) {\n        try {\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n\n          // Create new image and wait for it to load\n          const tempImg = new Image();\n          tempImg.crossOrigin = 'anonymous';\n\n          await new Promise((resolve, reject) => {\n            tempImg.onload = () => {\n              // Set canvas size to match image\n              canvas.width = tempImg.naturalWidth;\n              canvas.height = tempImg.naturalHeight;\n\n              // Draw image to canvas\n              ctx.drawImage(tempImg, 0, 0);\n\n              // Convert to data URL\n              const dataUrl = canvas.toDataURL('image/png', 1.0);\n\n              // Update original image\n              img.src = dataUrl;\n              resolve();\n            };\n            tempImg.onerror = reject;\n            tempImg.src = img.src;\n          });\n        } catch (error) {\n          console.error('Failed to convert image:', error);\n        }\n\n      }\n\n      // end of images to data urls\n\n      // Initialize mermaid diagrams after all images are processed\n      mermaid.init(undefined, this.output.querySelectorAll('.mermaid'));\n    } // end of renderMarkdown\n\n    markdownRemoveAllHR  () {\n      if (this.inputContentType === \"md\") {\n        const markdown = this.getMarkdownSource();\n        const newMarkdown = markdown.replace(/---/g, '');\n        this.setContent(newMarkdown);\n      }\n    }\n\n    setView(view) {\n      this.currentView = view;\n\n      this.controls.querySelectorAll('button[data-view]').forEach(btn => {\n        btn.classList.toggle('active', btn.dataset.view === view);\n      });\n\n      const copyMDButton = this.controls.querySelector('.copy-md-button');\n      const copyHTMLButton = this.controls.querySelector('.copy-html-button');\n\n      if (view === 'md') {\n        this.input.classList.remove('squibview-hidden');\n        this.output.classList.add('squibview-hidden');\n        this.input.style.width = '100%';\n        copyMDButton.classList.remove('squibview-hidden');\n        copyHTMLButton.classList.add('squibview-hidden');\n      } else if (view === 'html') {\n        this.input.classList.add('squibview-hidden');\n        this.output.classList.remove('squibview-hidden');\n        this.output.style.width = '100%';\n        copyMDButton.classList.add('squibview-hidden');\n        copyHTMLButton.classList.remove('squibview-hidden');\n      } else {\n        this.input.classList.remove('squibview-hidden');\n        this.output.classList.remove('squibview-hidden');\n        this.input.style.width = '50%';\n        this.output.style.width = '50%';\n        copyMDButton.classList.remove('squibview-hidden');\n        copyHTMLButton.classList.remove('squibview-hidden');\n      }\n\n      this.adjustLayout();\n    }\n\n    async copyContent() {\n      const copyButton = this.controls.querySelector('.copy-button');\n      copyButton.textContent = 'Copying...';\n\n      try {\n        const contentDiv = this.output.querySelector('div[contenteditable=\"true\"]');\n        if (!contentDiv) {\n          throw new Error('Content div not found');\n        }\n\n        const clone = contentDiv.cloneNode(true);\n\n        clone.querySelectorAll('pre code').forEach(block => {\n          const formattedCode = block.innerHTML;\n\n          const table = document.createElement('table');\n          table.style.width = '100%';\n          table.style.borderCollapse = 'collapse';\n          table.style.border = 'none';\n\n          const tr = document.createElement('tr');\n          const td = document.createElement('td');\n          td.style.backgroundColor = '#f7f7f7';\n          td.style.padding = '12px';\n          td.style.fontFamily = 'Consolas, Monaco, \"Courier New\", monospace';\n          td.style.whiteSpace = 'pre';\n          td.style.border = 'none';\n\n          td.innerHTML = formattedCode.trim();\n\n          tr.appendChild(td);\n          table.appendChild(tr);\n          block.parentNode.replaceWith(table);\n        });\n\n        const svgElements = clone.querySelectorAll('svg');\n        for (const svg of svgElements) {\n          try {\n            const pngBlob = await this.svgToPng(svg);\n            const dataUrl = await new Promise(resolve => {\n              const reader = new FileReader();\n              reader.onloadend = () => resolve(reader.result);\n              reader.readAsDataURL(pngBlob);\n            });\n\n            const img = document.createElement('img');\n            img.src = dataUrl;\n            img.width = svg.clientWidth || svg.viewBox.baseVal.width || 100;\n            img.height = svg.clientHeight || svg.viewBox.baseVal.height || 100;\n            img.setAttribute('v:shapes', 'image' + Math.random().toString(36).substr(2, 9));\n            img.style.width = img.width + 'px';\n            img.style.height = img.height + 'px';\n            img.alt = \"Converted diagram\";\n            svg.parentNode.replaceChild(img, svg);\n          } catch (error) {\n            console.error('Failed to convert SVG:', error);\n          }\n        }\n\n\n        // Convert all images to data URLs\n        const imgElements = clone.querySelectorAll('img');\n        await Promise.all(imgElements.map(async img => {\n          console.log('Converting image:', img.src);\n\n          // Create canvas\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n\n          // Create new image and wait for it to load completely\n          const tempImg = new Image();\n          tempImg.crossOrigin = 'anonymous';\n\n          try {\n            await new Promise((resolve, reject) => {\n              tempImg.onload = resolve;\n              tempImg.onerror = reject;\n              tempImg.src = img.src;\n            });\n\n            // Set dimensions\n            canvas.width = tempImg.offsetWidth || img.offsetWidth || 200;\n            canvas.height = tempImg.offsetHeight || img.offsetHeight || 200;\n\n            // Draw and convert\n            ctx.drawImage(tempImg, 0, 0);\n            const dataUrl = canvas.toDataURL('image/png', 1.0);\n\n            // Create and wait for new image with data URL\n            const newImg = new Image();\n            await new Promise((resolve, reject) => {\n              newImg.onload = () => {\n                newImg.alt = img.alt || 'Converted image';\n                newImg.width = canvas.width;\n                newImg.height = canvas.height;\n                newImg.style.cssText = img.style.cssText;\n                // Force image to be treated as embedded\n                newImg.setAttribute('data-embedded', 'true');\n                // Replace the old image\n                img.parentNode.replaceChild(newImg, img);\n                console.log('Successfully converted image to data URL');\n                resolve();\n              };\n              newImg.onerror = reject;\n              newImg.src = dataUrl;\n            });\n          } catch (error) {\n            console.error('Error converting image:', error, img.src);\n            // Don't rethrow - we want to continue with other images\n          }\n        }));\n\n\n        const clipData = new ClipboardItem({\n          'text/html': new Blob([`\n            <html xmlns:v=\"urn:schemas-microsoft-com:vml\"\n                  xmlns:o=\"urn:schemas-microsoft-com:office:office\"\n                  xmlns:w=\"urn:schemas-microsoft-com:office:word\">\n              <head>\n                <meta charset=\"utf-8\">\n                <style>\n                  table { border-collapse: collapse; width: 100%; margin-bottom: 1em; }\n                  th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n                  th { background-color: #f0f0f0; font-weight: bold; }\n\n                  /* Code block styling */\n                  .hljs { display: block; overflow-x: auto; padding: 1em; }\n                  .hljs-keyword { color: #0033B3; }\n                  .hljs-string { color: #067D17; }\n                  .hljs-comment { color: #8C8C8C; }\n                  .hljs-function { color: #00627A; }\n                  .hljs-number { color: #1750EB; }\n                  .hljs-operator { color: #687687; }\n                  .hljs-punctuation { color: #000000; }\n\n                  /* Word-specific image handling */\n                  img { display: block; max-width: none; }\n                </style>\n              </head>\n              <body>\n                ${clone.innerHTML}\n              </body>\n            </html>\n          `], { type: 'text/html' }),\n          'text/plain': new Blob([clone.innerText], { type: 'text/plain' })\n        });\n\n        await navigator.clipboard.write([clipData]);\n        copyButton.textContent = 'Copied!';\n      } catch (err) {\n        console.error('Copy failed:', err);\n        copyButton.textContent = 'Copy failed';\n      }\n\n      setTimeout(() => {\n        copyButton.textContent = 'Copy';\n      }, 2000);\n    }\n\n    svgToPng(svgElement) {\n      return new Promise((resolve, reject) => {\n        const svgString = new XMLSerializer().serializeToString(svgElement);\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n\n        const scale = 2;\n        const svgWidth = svgElement.clientWidth || svgElement.viewBox.baseVal.width || 100;\n        const svgHeight = svgElement.clientHeight || svgElement.viewBox.baseVal.height || 100;\n\n        canvas.width = svgWidth * scale;\n        canvas.height = svgHeight * scale;\n        ctx.scale(scale, scale);\n\n        img.onload = () => {\n          try {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.drawImage(img, 0, 0, svgWidth, svgHeight);\n            canvas.toBlob(blob => {\n              resolve(blob);\n            }, 'image/png', 1.0);\n          } catch (err) {\n            reject(err);\n          }\n        };\n\n        img.onerror = reject;\n        const svgDataUrl = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(svgString)}`;\n        img.src = svgDataUrl;\n      });\n    }\n\n    controlsShow(show) {\n      this.controls.style.display = show ? '' : 'none';\n      this.options.showControls = show;\n      this.adjustLayout();\n    }\n\n    titleShow(show) {\n      this.title.style.display = show ? '' : 'none';\n      this.options.titleShow = show;\n      this.adjustLayout();\n    }\n\n    titleSetContent(content) {\n      this.title.innerHTML = content;\n      this.options.titleContent = content;\n    }\n\n    titleGetContent() {\n      return this.title.innerHTML;\n    }\n\n    getMarkdownSource() {\n      return this.input.value;\n    }\n\n    getHTMLSource() {\n      return this.output.querySelector('div[contenteditable=\"true\"]').innerHTML;\n    }\n\n    // Standalone function to toggle between Markdown preview and split view\n    toggleView() {\n      const editor = window.editor;\n      if (editor.currentView === 'md') {\n        editor.setView('split');\n      } else if (editor.currentView === 'split') {\n        editor.setView('html');\n      } else\n        editor.setView('md')\n\n      console.log(editor.currentView)\n    }\n\n    /**\n     * Creates an iframe that fills the entire parent element and injects provided HTML content.\n     * @param {HTMLElement} parentElement - The parent element to contain the iframe.\n     * @param {string} htmlContent - The HTML content to inject into the iframe.\n     */\n    insertContentInIframe(parentElement, htmlContent) {\n      // Create an iframe element\n      const iframe = document.createElement('iframe');\n\n      // Style the iframe to fill the parent completely\n      iframe.style.width = '100%';\n      iframe.style.height = '100%';\n      iframe.style.border = 'none';\n      iframe.style.display = 'block';\n\n      //iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\n      // Append the iframe to the parent element\n      parentElement.innerHTML = '';\n      parentElement.appendChild(iframe);\n\n      // Access the iframe's document and write the HTML content into it\n      const iframeDoc = iframe.contentWindow.document;\n      iframeDoc.open();\n      iframeDoc.write(htmlContent);\n      iframeDoc.close();\n      this.output_iframe = iframe\n      this.output_ifraome_content = htmlContent;\n    }\n    // this function takes input as html and renders it in an iframe in the output div\n    // it write to the outputDiv that is a member of this object\n    writeHTMLContent(src) {\n      const htmlContent = src;\n      const outputDiv = this.output;\n      this.insertContentInIframe(outputDiv, htmlContent);\n    }\n\n    async copyMarkdown() {\n      const copyButton = this.controls.querySelector('.copy-md-button');\n      copyButton.textContent = 'Copying...';\n\n      try {\n        const markdownText = this.getMarkdownSource();\n\n        try {\n          await navigator.clipboard.writeText(markdownText);\n        } catch (modernErr) {\n          const textarea = document.createElement('textarea');\n          textarea.value = markdownText;\n          textarea.style.position = 'fixed';\n          textarea.style.opacity = '0';\n          document.body.appendChild(textarea);\n          textarea.select();\n\n          const successful = document.execCommand('copy');\n          document.body.removeChild(textarea);\n\n          if (!successful) throw new Error('Fallback copy failed');\n        }\n\n        copyButton.textContent = 'Copied!';\n      } catch (err) {\n        console.error('Copy Markdown failed:', err);\n        copyButton.textContent = 'Copy failed';\n      }\n\n      setTimeout(() => {\n        copyButton.textContent = 'Copy MD';\n      }, 2000);\n    }\n\n    async copyHTML() {\n      const copyButton = this.controls.querySelector('.copy-html-button');\n      copyButton.textContent = 'Copying...';\n\n      try {\n        const contentDiv = this.output.querySelector('div[contenteditable=\"true\"]');\n        if (!contentDiv) {\n          throw new Error('Content div not found');\n        }\n\n        const clone = contentDiv.cloneNode(true);\n\n        // Process code blocks\n        clone.querySelectorAll('pre code').forEach(block => {\n          const formattedCode = block.innerHTML;\n\n          const table = document.createElement('table');\n          table.style.width = '100%';\n          table.style.borderCollapse = 'collapse';\n          table.style.border = 'none';\n\n          const tr = document.createElement('tr');\n          const td = document.createElement('td');\n          td.style.backgroundColor = '#f7f7f7';\n          td.style.padding = '12px';\n          td.style.fontFamily = 'Consolas, Monaco, \"Courier New\", monospace';\n          td.style.whiteSpace = 'pre';\n          td.style.border = 'none';\n\n          td.innerHTML = formattedCode.trim();\n\n          tr.appendChild(td);\n          table.appendChild(tr);\n          block.parentNode.replaceWith(table);\n        });\n\n        // Convert SVG elements to PNG\n        const svgElements = clone.querySelectorAll('svg');\n        for (const svg of svgElements) {\n          try {\n            const pngBlob = await this.svgToPng(svg);\n            const dataUrl = await new Promise(resolve => {\n              const reader = new FileReader();\n              reader.onloadend = () => resolve(reader.result);\n              reader.readAsDataURL(pngBlob);\n            });\n\n            const img = document.createElement('img');\n            img.src = dataUrl;\n            img.width = svg.clientWidth || svg.viewBox.baseVal.width || 100;\n            img.height = svg.clientHeight || svg.viewBox.baseVal.height || 100;\n            img.setAttribute('v:shapes', 'image' + Math.random().toString(36).substr(2, 9));\n            img.style.width = img.width + 'px';\n            img.style.height = img.height + 'px';\n            img.alt = \"Converted diagram\";\n            svg.parentNode.replaceChild(img, svg);\n          } catch (error) {\n            console.error('Failed to convert SVG:', error);\n          }\n        }\n\n        const htmlContent = `\n          <html xmlns:v=\"urn:schemas-microsoft-com:vml\"\n                xmlns:o=\"urn:schemas-microsoft-com:office:office\"\n                xmlns:w=\"urn:schemas-microsoft-com:office:word\">\n            <head>\n              <meta charset=\"utf-8\">\n              <style>\n                table { border-collapse: collapse; width: 100%; margin-bottom: 1em; }\n                th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n                th { background-color: #f0f0f0; font-weight: bold; }\n\n                /* Code block styling */\n                .hljs { display: block; overflow-x: auto; padding: 1em; }\n                .hljs-keyword { color: #0033B3; }\n                .hljs-string { color: #067D17; }\n                .hljs-comment { color: #8C8C8C; }\n                .hljs-function { color: #00627A; }\n                .hljs-number { color: #1750EB; }\n                .hljs-operator { color: #687687; }\n                .hljs-punctuation { color: #000000; }\n\n                /* Word-specific image handling */\n                img { display: block; max-width: none; }\n              </style>\n            </head>\n            <body>\n              ${clone.innerHTML}\n            </body>\n          </html>`;\n\n        const platform = this.getPlatform();\n\n        if (platform === 'macos') {\n          // macOS approach (previously working version)\n          try {\n            await navigator.clipboard.write([\n              new ClipboardItem({\n                'text/html': new Blob([htmlContent], { type: 'text/html' }),\n                'text/plain': new Blob([clone.innerText], { type: 'text/plain' })\n              })\n            ]);\n          } catch (modernErr) {\n            // Safari fallback\n            if (!this.copyToClipboard(htmlContent)) {\n              throw new Error('Fallback copy failed');\n            }\n          }\n        } else {\n          // Windows/Linux approach\n          const tempDiv = document.createElement('div');\n          tempDiv.style.position = 'fixed';\n          tempDiv.style.left = '-9999px';\n          tempDiv.style.top = '0';\n          tempDiv.innerHTML = htmlContent;\n          document.body.appendChild(tempDiv);\n\n          try {\n            await navigator.clipboard.write([\n              new ClipboardItem({\n                'text/html': new Blob([htmlContent], { type: 'text/html' }),\n                'text/plain': new Blob([clone.innerText], { type: 'text/plain' })\n              })\n            ]);\n          } catch (modernErr) {\n            const selection = window.getSelection();\n            const range = document.createRange();\n            range.selectNodeContents(tempDiv);\n            selection.removeAllRanges();\n            selection.addRange(range);\n\n            const successful = document.execCommand('copy');\n            if (!successful) {\n              throw new Error('Fallback copy failed');\n            }\n          } finally {\n            if (tempDiv && tempDiv.parentNode) {\n              document.body.removeChild(tempDiv);\n            }\n          }\n        }\n\n        copyButton.textContent = 'Copied!';\n      } catch (err) {\n        console.error('Copy HTML failed:', err);\n        copyButton.textContent = 'Copy failed';\n      }\n\n      setTimeout(() => {\n        copyButton.textContent = 'Copy Formatted';\n      }, 2000);\n    }\n\n    getVersion() {\n      return GraphicalMD.version;\n    }\n\n    copyToClipboard(string) {\n      let textarea;\n      let result;\n\n      try {\n        textarea = document.createElement('textarea');\n        textarea.setAttribute('readonly', true);\n        textarea.setAttribute('contenteditable', true);\n        textarea.style.position = 'fixed';\n        textarea.style.left = '0';\n        textarea.style.top = '0';\n        textarea.style.opacity = '0';\n        textarea.value = string;\n\n        document.body.appendChild(textarea);\n\n        textarea.focus();\n        textarea.select();\n\n        const range = document.createRange();\n        range.selectNodeContents(textarea);\n\n        const sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n\n        textarea.setSelectionRange(0, textarea.value.length);\n        result = document.execCommand('copy');\n      } catch (err) {\n        console.error(err);\n        result = null;\n      } finally {\n        if (textarea && textarea.parentNode) {\n          document.body.removeChild(textarea);\n        }\n      }\n\n      // manual copy fallback using prompt\n      if (!result) {\n        const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n        const copyHotkey = isMac ? 'âŒ˜C' : 'CTRL+C';\n        result = prompt(`Press ${copyHotkey}`, string);\n        if (!result) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    getPlatform() {\n      const platform = navigator.platform.toLowerCase();\n      const userAgent = navigator.userAgent.toLowerCase();\n\n      if (platform.includes('mac') || userAgent.includes('mac')) {\n        return 'macos';\n      } else if (userAgent.includes('windows')) {\n        return 'windows';\n      } else if (userAgent.includes('linux')) {\n        return 'linux';\n      }\n      return 'unknown';\n    }\n\n    // Make a complete HTML page from a div (or any html snippet) with optional editability\n    makeHTMLPageFromDiv(inputDivHTML, editable = false) {\n      let editableAttr = editable ? 'contenteditable=\"true\"' : '';\n      let s =\n        `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Markdown Viewer with Graphics Support</title>\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css\">\n  <xscripx src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js\"></xscripx>\n  <xscripx src=\"https://unpkg.com/mermaid/dist/mermaid.min.js\"></xscripx>\n  <style>\n      body {\n          font-family: Arial, sans-serif;\n          /* margin: 20px; */\n          box-sizing: border-box;\n          padding: 20px;\n      }\n      .squibview-output {\n          width: 50%;\n          margin: auto;\n      }\n      pre {\n          background-color: #f4f4f4;\n          padding: 10px;\n          border-radius: 5px;\n          overflow-x: auto;\n      }\n      table {\n          width: 100%;\n          border-collapse: collapse;\n          margin: 20px 0;\n      }\n      table, th, td {\n          border: 1px solid black;\n      }\n      th, td {\n          padding: 8px;\n          text-align: left;\n      }\n  </style>\n</head>\n<body ${editableAttr}>\n  ${inputDivHTML}\n</body>\n</html>`;\n      // now we need to remove the temp-script tag with the script in it.\n      // we do this with a regex search/replace\n      s = s.replaceAll(\"xscripx\", \"script\");\n      console.log(editableAttr);\n      return s;\n    }\n\n}// end of class SquibView\n\nexport default SquibView;\n"],"names":["SquibView","_createClass","element","options","arguments","length","undefined","_classCallCheck","this","_objectSpread","defaultOptions","container","document","querySelector","Error","initializeLibraries","createStructure","initializeEventHandlers","setContent","initialContent","setView","initialView","initializeResizeObserver","key","value","mermaid","initialize","startOnLoad","securityLevel","theme","errorCallback","error","console","warn","init","md","window","markdownit","html","linkify","typographer","highlight","str","lang","hljs","getLanguage","language","__","defaultFence","renderer","rules","fence","tokens","idx","env","self","renderToken","token","info","trim","content","classList","add","baseClass","innerHTML","concat","titleShow","titleContent","showControls","title","controls","editor","input","output","_this","querySelectorAll","forEach","button","addEventListener","dataset","view","copyMarkdown","copyHTML","inputContentType","writeHTMLContent","renderMarkdown","_this2","ResizeObserver","entries","_step","_iterator","_createForOfIteratorHelper","s","n","done","target","adjustLayout","err","e","f","observe","containerRect","getBoundingClientRect","titleHeight","offsetHeight","controlsHeight","availableHeight","height","availableWidth","width","style","currentView","contentType","replace","_renderMarkdown","_asyncToGenerator","_regeneratorRuntime","mark","_callee","contentDiv","images","_iterator2","_step2","_loop","wrap","_context2","prev","next","render","img","canvas","ctx","tempImg","_context","createElement","getContext","Image","crossOrigin","Promise","resolve","reject","onload","naturalWidth","naturalHeight","drawImage","dataUrl","toDataURL","src","onerror","t0","stop","delegateYield","t1","finish","apply","newMarkdown","getMarkdownSource","btn","toggle","copyMDButton","copyHTMLButton","remove","_copyContent","_callee3","copyButton","clone","svgElements","_iterator3","_step3","_loop2","imgElements","clipData","_this3","_context5","textContent","cloneNode","block","formattedCode","table","borderCollapse","border","tr","td","backgroundColor","padding","fontFamily","whiteSpace","appendChild","parentNode","replaceWith","svg","pngBlob","_context4","svgToPng","sent","reader","FileReader","onloadend","result","readAsDataURL","clientWidth","viewBox","baseVal","clientHeight","setAttribute","Math","random","toString","substr","alt","replaceChild","all","map","_ref","_callee2","newImg","_context3","log","offsetWidth","cssText","_x","ClipboardItem","Blob","type","innerText","navigator","clipboard","write","t2","setTimeout","svgElement","svgString","XMLSerializer","serializeToString","svgWidth","svgHeight","scale","clearRect","toBlob","blob","svgDataUrl","encodeURIComponent","show","display","parentElement","htmlContent","iframe","iframeDoc","contentWindow","open","close","output_iframe","output_ifraome_content","outputDiv","insertContentInIframe","_copyMarkdown","_callee4","markdownText","textarea","successful","_context6","writeText","position","opacity","body","select","execCommand","removeChild","_copyHTML","_callee5","_iterator4","_step4","_loop3","tempDiv","selection","range","_this4","_context8","_context7","getPlatform","copyToClipboard","left","top","t3","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","t4","GraphicalMD","version","string","focus","sel","setSelectionRange","isMac","platform","toUpperCase","indexOf","prompt","toLowerCase","userAgent","includes","inputDivHTML","editableAttr","replaceAll","_defineProperty","url"],"mappings":"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"}