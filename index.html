<html><head>
<!-- 
This file autogenerated by docbat.js (https://npmjs.com/docbat)  
Any manual edits may be lost.
-->
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<style>
*{box-sizing:border-box;}
.bw-def-page-setup{height:100%;width:90%;margin:0 auto;padding-left:2%;padding-right:2%;left:0;top:1%;box-sizing:border-box;}
.bw-font-serif{font-family:Times New Roman, Times, serif;}
.bw-font-sans-serif{font-family:Arial, Helvetica, sans-serif;}

.bw-left{text-align:left;}
.bw-right{text-align:right;}
.bw-center{text-align:center;margin:0 auto;}
.bw-justify{text-align:justify;}
.bw-code{font-family:monospace;white-space:pre-wrap;}
.bw-pad1{padding-left:1%;padding-right:1%;}

.bw-table{border-collapse:collapse;border-spacing:0;border:1px solid #444;}
.bw-table th{background-color:#bbb;padding:4px;border:1px solid #444;}
.bw-table td{padding:4px;border:1px solid #444;}
.bw-table-stripe tr:nth-child(even){background-color:#f0f0f0;}
.bw-table tr td:first-child{font-weight:700;}
.bw-table-border-round{border-radius:2px;}
.bw-table-sort-upa::after{content:"\2191";}
.bw-table-sort-dna::after{content:"\2193";}
.bw-table-sort-xxa::after{content:"\00a0";}

.bw-tab-item-list{margin:0;padding-inline-start:0;}
.bw-tab-item{display:inline;padding-top:0.75em;padding-left:0.75em;padding-right:0.75em;border-top-right-radius:7px;border-top-left-radius:7px;}
.bw-tab-active{font-weight:700;}
.bw-tab:hover{cursor:pointer;font-weight:700;}
.bw-tab-content-list{margin:0;padding-top:0.0em;}
.bw-tab-content{display:none;border-radius:0;}
.bw-tab-content, .bw-tab-active{background-color:#ddd;padding:0.5em;}

.bw-accordian-container > div{padding:0.5em;}

.bw-container{margin:0 auto;}
.bw-row{width:100%;display:block;}
.bw-row [class^="bw-col"]{float:left;}
.bw-row::after{content:"";display:table;clear:both;}
.bw-box-1{padding-top:10px;padding-bottom:10px;border-radius:8px;}

.bw-sign{position:inherit;display:table;height:100%;width:100%;}
.bw-sign > div{display:table-cell;vertical-align:middle;}
.bw-sign > div > div{text-align:center;}

.bw-hide{display:none;}
.bw-show{display:block;}
.bw-h1{font-size:2.312rem;}
.bw-h2{font-size:1.965rem;}
.bw-h3{font-size:1.67rem;}
.bw-h4{font-size:1.419rem;}
.bw-h5{font-size:1.206rem;}
.bw-h6{font-size:1.025rem;}

.bw-col-1{width:8.333%;}
.bw-col-2{width:16.666%;}
.bw-col-3{width:25%;}
.bw-col-4{width:33.333%;}
.bw-col-5{width:41.666%;}
.bw-col-6{width:50%;}
.bw-col-7{width:58.333%;}
.bw-col-8{width:66.666%;}
.bw-col-9{width:75%;}
.bw-col-10{width:83.333%;}
.bw-col-11{width:91.666%;}
.bw-col-12{width:100%;}

.bw-color-color {color:#000}
.bw-color-background-color {background-color:#ddd}
.bw-color-active {active:#222}
.bw-thm-light
{
  color: #020202 !important;; 
  background-color: #e2e2e2 !important;; 
}
.bw-thm-dark
{
  color: #e2e2e2 !important;; 
  background-color: #020202 !important;; 
}
@media only screen and (min-width: 540px) {.bw-def-page-setup {width: 96%;}}
@media only screen and (min-width: 720px) {.bw-def-page-setup {width: 92%;}}
@media only screen and (min-width: 960px) {.bw-def-page-setup {width: 88%;}}
@media only screen and (min-width: 1100px){.bw-def-page-setup {width: 86%;}}
@media only screen and (min-width: 1600px){.bw-def-page-setup {width: 84%;}}

</style><style>
.dbat {padding-left: 10%; padding-right: 10%;}


</style><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="bw-def-page-setup bw-font-sans-serif dbat" ><br><br><h1 id="squibview">SquibView</h1>
<p><a href="https://www.npmjs.com/package/squibview"><img src="https://img.shields.io/npm/v/squibview.svg" alt="NPM Version"></a>
<a href="LICENSE"><img src="https://img.shields.io/badge/License-BSD_2--Clause-orange.svg" alt="License"></a>
<a href="https://github.com/deftio/squibview/actions/workflows/ci.yml"><img src="https://img.shields.io/github/actions/workflow/status/deftio/squibview/ci.yml?branch=main&style=flat&logo=github&label=Build&color=blue" alt="Build Status"></a></p>
<p><a href="https://deftio.github.io/squibview/examples/example_ESM.html">Live Demo (github)</a></p>
<p><a href="./examples/example_ESM.html">Live Demo (local)</a></p>
<p>SquibView is a headless JavaScript embeddable editor/viewer that renders GitHub-Flavored Markdown (or full HTML pages) on the fly.</p>
<p>For Markdown inputs, it supports rendering Mermaid diagrams, syntax-highlighted code blocks, tables, and inline SVG graphics. This provides a powerful and interactive way to view and export Markdown content as HTML.</p>
<p>For HTML inputs, it embeds the content within an iframe for viewing.</p>
<p>SquibView supports full cut-and-paste functionality and allows edits made in the rendered view to be reflected back in the source.</p>
<img src="./squibview-example.png" alt="SquibView Example" width="100%">

<h2 id="documentation">Documentation</h2>
<ul>
<li><a href="./docs/programmers-guide.md">Programmer&#39;s Guide</a> - Comprehensive documentation for developers</li>
<li><a href="./examples">Examples</a> - Example implementations and usage patterns</li>
</ul>
<h1 id="features">Features</h1>
<ul>
<li><strong>Live Preview</strong>: See the rendered HTML output in real-time as you edit your Markdown.</li>
<li><strong>Multiple Views</strong>: Switch between Markdown editor, HTML preview, or split view using simple buttons.</li>
<li><strong>Graphical Support</strong>: Render Mermaid diagrams, inline SVG graphics, and other visual formats directly from Markdown.</li>
<li><strong>CSV/TSV/PSV</strong>: Render CSV/TSV/PSV tables directly </li>
<li><strong>Math</strong>: Render Math equations from latex and MathJax directly</li>
<li><strong>Syntax Highlighting</strong>: Code blocks are automatically highlighted using Highlight.js.</li>
<li><strong>Table Styling</strong>: Tables are rendered cleanly with improved readability.</li>
<li><strong>Easy Export</strong>: Export or copy the generated HTML for use in other projects or documentation.</li>
<li><strong>Text Selection API</strong>: Detect and manipulate selected text in both source and rendered panels.</li>
<li><strong>Bidirectional Editing</strong>: Make changes in either the source or rendered view and see them reflected in both panels.</li>
<li><strong>Revision History</strong>: Track changes with undo/redo functionality.</li>
<li><strong>Plugin System</strong>: Extend functionality with custom plugins and renderers.</li>
<li><strong>Image Handling</strong>: Control how images are displayed in source view and when copying content.</li>
<li><strong>Standard Markdown Line Breaks</strong>: SquibView follows standard Markdown behavior for line breaks.<ul>
<li>A single newline in your source Markdown is treated as a soft break and will typically render as a space, not a new line, if it&#39;s within the same paragraph.</li>
<li>To force a hard line break (inserting a <code>&lt;br&gt;</code> tag), end a line with two or more spaces.</li>
<li>To start a new paragraph (wrapping content in <code>&lt;p&gt;</code> tags), leave a blank line between blocks of text.</li>
<li>Example:<pre><code class="language-markdown"># Title
This is line one.路路
This is line two (after two spaces, so it&#39;s a hard break).

This is a new paragraph.
This line is part of the new paragraph.
</code></pre>
(In the example, <code>路路</code> represents two spaces.)</li>
</ul>
</li>
</ul>
<h2 id="web-viewer">Web Viewer</h2>
<p>SquibView can be used as a standalone tool for processing complex Markdown output (e.g., from LLMs like OpenAI, Claude, Mistral, or Deepseek) or as a simple live preview Markdown editor.</p>
<h2 id="as-a-component">As a Component</h2>
<p>As an embeddable component, SquibView allows your application to render complex Markdown or other content on the fly. It can dynamically switch between a split-screen view (source and output) or an output-only view, serving effectively as a renderer.</p>
<h2 id="installation-and-usage">Installation and Usage</h2>
<h3 id="using-build-files">Using Build Files</h3>
<p>SquibView offers multiple build formats for different use cases:</p>
<h4 id="esm-es-modules">ESM (ES Modules)</h4>
<pre><code class="language-html">&lt;!-- Required dependencies --&gt;
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/markdown-it/12.3.2/markdown-it.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/mermaid/dist/mermaid.min.js&quot;&gt;&lt;/script&gt;

&lt;!-- SquibView CSS --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;../dist/squibview.css&quot;&gt;

&lt;!-- ESM Import --&gt;
&lt;script type=&quot;module&quot;&gt;
  import SquibView from &#39;../dist/squibview.esm.min.js&#39;;
  
  const editor = new SquibView(&#39;#editorContainer&#39;, {
    titleShow: true,
    titleContent: &quot;SquibView Editor&quot;
  });
  
  // Set content
  editor.setContent(&#39;# Hello SquibView\n\nThis is a test.&#39;, &#39;md&#39;);
&lt;/script&gt;
</code></pre>
<h4 id="umd-universal-module-definition">UMD (Universal Module Definition)</h4>
<pre><code class="language-html">&lt;!-- Required dependencies --&gt;
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/markdown-it/12.3.2/markdown-it.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/mermaid/dist/mermaid.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/tiny-emitter@2.1.0/dist/tinyemitter.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/diff-match-patch@1.0.5/index.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/turndown@7.1.2/dist/turndown.js&quot;&gt;&lt;/script&gt;

&lt;!-- SquibView CSS --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;../dist/squibview.css&quot;&gt;

&lt;!-- UMD Import --&gt;
&lt;script src=&quot;../dist/squibview.umd.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  const editor = new SquibView(&#39;#editorContainer&#39;, {
    titleShow: true,
    titleContent: &quot;SquibView Editor&quot;
  });
  
  // Set content
  editor.setContent(&#39;# Hello SquibView\n\nThis is a test.&#39;, &#39;md&#39;);
&lt;/script&gt;
</code></pre>
<h4 id="standalone-all-dependencies-bundled">Standalone (All Dependencies Bundled)</h4>
<pre><code class="language-html">&lt;!-- SquibView CSS --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;../dist/squibview.css&quot;&gt;

&lt;!-- Standalone Import (includes all dependencies) --&gt;
&lt;script src=&quot;../dist/squibview.standalone.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  const editor = new SquibView(&#39;#editorContainer&#39;, {
    titleShow: true,
    titleContent: &quot;SquibView Editor&quot;
  });
  
  // Set content
  editor.setContent(&#39;# Hello SquibView\n\nThis is a test.&#39;, &#39;md&#39;);
&lt;/script&gt;
</code></pre>
<h3 id="build-formats-comparison">Build Formats Comparison</h3>
<table>
<thead>
<tr>
<th>Format</th>
<th>File Size</th>
<th>Dependencies</th>
<th>Use Case</th>
</tr>
</thead>
<tbody><tr>
<td>ESM</td>
<td>Smaller</td>
<td>Required externally</td>
<td>Modern applications with bundlers</td>
</tr>
<tr>
<td>UMD</td>
<td>Medium</td>
<td>Required externally</td>
<td>Traditional script tags, CommonJS</td>
</tr>
<tr>
<td>Standalone</td>
<td>Larger</td>
<td>Included</td>
<td>Quick prototypes, no external dependencies</td>
</tr>
</tbody></table>
<h3 id="using-via-cdn">Using via CDN</h3>
<p>SquibView is available via CDN (unpkg) and as an npm package.</p>
<h2 id="examples">Examples</h2>
<p>See the <a href="./examples">examples folder</a></p>
<h1 id=""></h1>
<h2 id="configuration-options">Configuration Options</h2>
<p>SquibView can be configured with various options when initializing:</p>
<pre><code class="language-javascript">const editor = new SquibView(&#39;#editorContainer&#39;, {
  // Basic options
  initialContent: &#39;&#39;,           // Initial content to load
  inputContentType: &#39;md&#39;,       // Type of content (&#39;md&#39;, &#39;html&#39;, &#39;reveal&#39;, &#39;csv&#39;, &#39;tsv&#39;)
  showControls: true,          // Whether to show control buttons
  titleShow: false,            // Whether to show the title section
  titleContent: &#39;&#39;,            // Content for the title section
  initialView: &#39;split&#39;,        // Initial view mode (&#39;src&#39;, &#39;html&#39;, &#39;split&#39;)
  baseClass: &#39;squibview&#39;,      // Base CSS class for styling
  
  // Image handling
  preserveImageTags: true,     // Default: true. Whether to keep original image URLs in source view.
                               // When true: images remain as &lt;img&gt; tags with original URLs in the source view.
                               // When false: images are converted to data URLs in the source view.
                               // Note: For clipboard operations (copy), images are always converted to data URLs
                               // to ensure portability, regardless of this setting.
  
  // Text replacement
  onReplaceSelectedText: null  // Callback for text replacement on selection
});
</code></pre>
<p><strong>Detailed Example: Image Handling with <code>preserveImageTags</code></strong></p>
<p>The <code>preserveImageTags</code> option provides fine-grained control over how image <code>src</code> attributes are handled within the source view and during copy-to-clipboard actions. By default (<code>true</code>), SquibView keeps external image links as they are in your source Markdown, which is often preferred for readability and maintainability of the source. When set to <code>false</code>, images are converted to inline data URLs directly in the source view upon rendering. Regardless of this setting, when content is copied to the clipboard, images are always converted to data URLs to ensure maximum portability and that the images are embedded within the copied content.</p>
<pre><code class="language-javascript">// Create editor with default image handling (preserves original URLs in source view)
const editor1 = new SquibView(&#39;#editor1&#39;); // preserveImageTags defaults to true

// Create editor that converts images to data URLs in source view
const editor2 = new SquibView(&#39;#editor2&#39;, {
  preserveImageTags: false
});

// Set content with images
const markdown = `
# Image Example

![Local Image](./images/example.png)
![Remote Image](https://example.com/image.jpg)
`;

editor1.setContent(markdown, &#39;md&#39;);
// In editor1&#39;s source view, images will keep their original URLs (e.g., &#39;./images/example.png&#39;).
// If content from editor1 is copied, the images in the clipboard HTML will use data URLs.

editor2.setContent(markdown, &#39;md&#39;);
// In editor2&#39;s source view, images will be converted to data URLs (e.g., &#39;data:image/png;base64,...&#39;).
// If content from editor2 is copied, the images will also use data URLs.
</code></pre>
<h2 id="getting-started">Getting Started</h2>
<p><strong>Clone the Repository:</strong></p>
<pre><code class="language-bash">git clone https://github.com/deftio/squibview.git
cd squibview
</code></pre>
<p><strong>Running the Examples:</strong>
The <code>examples/</code> directory contains various HTML files demonstrating different SquibView features and build types.
To run them:</p>
<ol>
<li>Navigate to the <code>examples/</code> directory.</li>
<li>Open any of the <code>*.html</code> files (e.g., <code>example_ESM.html</code>) in your web browser.</li>
</ol>
<p>You can typically do this by double-clicking the file or using &quot;Open with&quot; from your file explorer.
Once an example is open:</p>
<ul>
<li>You can switch view modes (source, rendered, split) using the control buttons.</li>
<li>For Markdown examples, enter your GitHub-Flavored Markdown into the editor on the left (in split or source view).</li>
<li>The right side (in split or rendered view) will update live, showcasing diagrams, code highlighting, and other features.</li>
</ul>
<h2 id="testing">Testing</h2>
<p>SquibView uses Jest for unit/integration tests and Puppeteer for End-to-End (E2E) tests.</p>
<ul>
<li><p><strong>Unit/Integration Tests:</strong></p>
<ul>
<li>These tests check individual modules and their interactions. They provide code coverage reports.</li>
<li>Run with: <code>npm run test</code></li>
<li>Coverage reports are generated in the <code>coverage/</code> directory. Open <code>coverage/lcov-report/index.html</code> to view detailed coverage.</li>
</ul>
</li>
<li><p><strong>End-to-End (E2E) Tests:</strong></p>
<ul>
<li>These tests run against a live instance of the application, simulating user interaction in a browser (using Puppeteer).</li>
<li>They verify that the built application works as expected.</li>
<li>Run with: <code>npm run test:e2e</code></li>
<li><strong>Note:</strong> This script starts its own <code>http-server</code> on port 8000. Ensure this port is free before running.</li>
</ul>
</li>
<li><p><strong>Run All Tests (Recommended before releases):</strong></p>
<ul>
<li>To ensure all checks pass, run both test suites sequentially.</li>
<li>Command: <code>npm run test:all</code></li>
</ul>
</li>
</ul>
<h2 id="contributing">Contributing</h2>
<p>Contributions are welcome! Whether you&#39;re adding new features, fixing bugs, or improving documentation, please follow these guidelines:</p>
<p>Fork the Repository: Click the &quot;Fork&quot; button on GitHub to create your own copy.</p>
<p><strong>Create a Branch:</strong></p>
<pre><code class="language-bash">git checkout -b feature/your-feature-name
</code></pre>
<p><strong>Commit Your Changes:</strong> Make your changes and commit them with a clear message.</p>
<pre><code class="language-bash">git commit -m &quot;Add description of changes&quot;
</code></pre>
<p><strong>Push to Your Fork:</strong></p>
<pre><code class="language-bash">git push origin feature/your-feature-name
</code></pre>
<p><strong>Open a Pull Request:</strong> Go to the original repository on GitHub and open a pull request from your fork&#39;s branch. Provide a clear description of your changes and why they&#39;re useful.</p>
<p>Please make sure your contributions follow the project&#39;s coding style and that tests pass, if applicable.</p>
<h2 id="license">License</h2>
<p>This project is licensed under the BSD-2 License. See the LICENSE file for details.</p>
</body></html>