<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SquibView Events Reference</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; viewBox=&#39;0 0 32 32&#39;&gt;&lt;circle cx=&#39;16&#39; cy=&#39;16&#39; r=&#39;14&#39; fill=&#39;%23f57c00&#39; stroke=&#39;%23000&#39; stroke-width=&#39;1&#39;/&gt;&lt;path d=&#39;M2 16h28M16 2a14 14 0 0114 14 14 14 0 01-14 14 14 14 0 01-14-14A14 14 0 0116 2zm0 0v28M9 16a7 7 0 0014 0 7 7 0 00-14 0z&#39; fill=&#39;none&#39; stroke=&#39;%23000&#39; stroke-width=&#39;1&#39;/&gt;&lt;/svg&gt;">
  <style>


/* Additional CSS */
/* SquibView CLI Generated Styles */
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  line-height: 1.6;
  color: #333;
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem 3rem;
  background-color: #fff;
}

h1, h2, h3, h4, h5, h6 {
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  font-weight: 600;
  line-height: 1.25;
}

h1 { 
  font-size: 2rem;
  
}
h2 { 
  font-size: 1.5rem;
  
}
h3 { font-size: 1.25rem; }
h4 { font-size: 1rem; }
h5 { font-size: 0.875rem; }
h6 { font-size: 0.85rem; color: #666; }

p { margin-bottom: 1rem; }

a {
  color: #0066cc;
  text-decoration: none;
}

a:hover {
  color: #0066cc;
  text-decoration: underline;
}

ul, ol {
  margin-bottom: 1rem;
  padding-left: 2rem;
}

li {
  margin-bottom: 0.25rem;
}

blockquote {
  margin: 1rem 0;
  padding: 0.5rem 1rem;
  border-left: 4px solid #ddd;
  background-color: #f9f9f9;
  color: #666;
}

code {
  background-color: #f5f5f5;
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: 0.85em;
}

pre {
  background-color: #f8f8f8;
  padding: 1rem;
  margin-bottom: 1rem;
  overflow-x: auto;
  border-radius: 4px;
}

pre code {
  background-color: transparent;
  padding: 0;
  border-radius: 0;
}

table {
  border-collapse: collapse;
  width: 100%;
  margin-bottom: 1rem;
}

th, td {
  border: 1px solid #ddd;
  padding: 0.5rem;
  text-align: left;
}

th {
  background-color: #f2f2f2;
  font-weight: bold;
}

img {
  max-width: 100%;
  height: auto;
  margin-bottom: 1rem;
}

hr {
  border: none;
  border-top: 1px solid #ddd;
  margin: 2rem 0;
}

/* Badge images - inline display */
p img {
  display: inline;
  margin: 0 2px;
  vertical-align: middle;
}

/* Math styling */
.MathJax {
  overflow-x: auto;
  overflow-y: hidden;
}

/* Responsive design */
@media (max-width: 768px) {
  body {
    padding: 1rem 1.5rem;
  }
  
  table {
    font-size: 0.875rem;
  }
  
  th, td {
    padding: 0.25rem;
  }
}

/* Print styles */
@media print {
  body {
    padding: 0;
    color: #000;
  }
  
  a {
    color: #000;
    text-decoration: underline;
  }
  
  pre, blockquote {
    page-break-inside: avoid;
  }
  
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
}
  </style>
    <!-- Highlight.js for syntax highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <!-- Leaflet for GeoJSON/TopoJSON maps -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/topojson-client@3.1.0/dist/topojson-client.min.js"></script>
  <!-- Three.js for STL 3D models -->
  <script src="https://unpkg.com/three@0.171.0/build/three.min.js"></script>
  <!-- MathJax for math rendering -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        ignoreHtmlClass: 'tex2jax_ignore',
        processHtmlClass: 'tex2jax_process'
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>
  <!-- Mermaid for diagram rendering -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
</head>
<body>
<div><h1>SquibView Events Reference</h1><p>Complete reference for all events emitted by SquibView and how to handle them.</p><h2>Event System Overview</h2><p>SquibView uses an event-driven architecture for communication between components and plugins. Events are accessed through the <code>editor.events</code> object.</p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript"><span class="hljs-comment">// Subscribe to an event</span>
editor.<span class="hljs-property">events</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'content:change'</span>, <span class="hljs-function">(<span class="hljs-params">content, contentType</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Content changed:'</span>, content);
});

<span class="hljs-comment">// Unsubscribe from an event</span>
editor.<span class="hljs-property">events</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'content:change'</span>, handler);

<span class="hljs-comment">// Note: Event names use colons (:) not hyphens (-)</span></code></pre></div><h2>Core Events</h2><h3>content:change</h3><p>Fired when the editor content changes.</p><p><strong>Event Parameters:</strong></p><ul><li><code>content</code> (string) - New content</li><li><code>contentType</code> (string) - Current content type</li></ul><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-property">events</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'content:change'</span>, <span class="hljs-function">(<span class="hljs-params">content, contentType</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'New content:'</span>, content);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Type:'</span>, contentType);
  <span class="hljs-title function_">saveToServer</span>(content);
});
</code></pre></div><hr><h3>view:change</h3><p>Fired when the view mode changes.</p><p><strong>Event Parameters:</strong></p><ul><li><code>view</code> (string) - New view mode (‘src’, ‘html’, ‘split’)</li></ul><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-property">events</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'view:change'</span>, <span class="hljs-function">(<span class="hljs-params">view</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`View changed to <span class="hljs-subst">${view}</span>`</span>);
  <span class="hljs-title function_">updateUIButtons</span>(view);
});
</code></pre></div><hr><h3>text:selected</h3><p>Fired when text is selected in either the source or rendered view.</p><p><strong>Event Data:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">{
  <span class="hljs-attr">text</span>: string,     <span class="hljs-comment">// Selected text</span><span class="hljs-attr">source</span>: string,   <span class="hljs-comment">// Selection source ('input' or 'output')</span><span class="hljs-attr">range</span>: {          <span class="hljs-comment">// Selection range (for input only)</span><span class="hljs-attr">start</span>: number,
    <span class="hljs-attr">end</span>: number
  }
}
</code></pre></div><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-property">events</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'text:selected'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Selected text:'</span>, data.<span class="hljs-property">text</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'From:'</span>, data.<span class="hljs-property">source</span>);

  <span class="hljs-comment">// Enable formatting buttons</span><span class="hljs-keyword">if</span> (data.<span class="hljs-property">text</span>) {
    <span class="hljs-title function_">enableFormatButtons</span>();
  }
});
</code></pre></div><hr><h3>render</h3><p>Fired after content is rendered.</p><p><strong>Event Data:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">{
  <span class="hljs-attr">content</span>: string,      <span class="hljs-comment">// Source content</span><span class="hljs-attr">rendered</span>: string,     <span class="hljs-comment">// Rendered HTML</span><span class="hljs-attr">contentType</span>: string,  <span class="hljs-comment">// Content type</span><span class="hljs-attr">duration</span>: number      <span class="hljs-comment">// Render time in milliseconds</span>
}
</code></pre></div><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'render'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Rendered in <span class="hljs-subst">${data.duration}</span>ms`</span>);
  <span class="hljs-title function_">processRenderedContent</span>(data.<span class="hljs-property">rendered</span>);
});
</code></pre></div><h2>Selection Events</h2><h3>selection-change</h3><p>Fired when text selection changes.</p><p><strong>Event Data:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">{
  <span class="hljs-attr">text</span>: string,         <span class="hljs-comment">// Selected text</span><span class="hljs-attr">html</span>: string,         <span class="hljs-comment">// Selected HTML (if from output)</span><span class="hljs-attr">markdown</span>: string,     <span class="hljs-comment">// Converted markdown</span><span class="hljs-attr">start</span>: number,        <span class="hljs-comment">// Start position</span><span class="hljs-attr">end</span>: number,          <span class="hljs-comment">// End position</span><span class="hljs-attr">source</span>: string,       <span class="hljs-comment">// 'input' or 'output'</span><span class="hljs-attr">hasSelection</span>: boolean <span class="hljs-comment">// Whether text is selected</span>
}
</code></pre></div><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'selection-change'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (data.<span class="hljs-property">hasSelection</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Selected:'</span>, data.<span class="hljs-property">text</span>);
    <span class="hljs-title function_">showContextMenu</span>(data);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-title function_">hideContextMenu</span>();
  }
});
</code></pre></div><hr><h3>copy</h3><p>Fired when content is copied to clipboard.</p><p><strong>Event Data:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">{
  <span class="hljs-attr">content</span>: string,     <span class="hljs-comment">// Copied content</span><span class="hljs-attr">format</span>: string,      <span class="hljs-comment">// Format ('plain', 'html', 'markdown', 'formatted')</span><span class="hljs-attr">source</span>: string,      <span class="hljs-comment">// Source of copy ('input' or 'output')</span><span class="hljs-attr">success</span>: boolean     <span class="hljs-comment">// Whether copy succeeded</span>
}
</code></pre></div><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'copy'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (data.<span class="hljs-property">success</span>) {
    <span class="hljs-title function_">showNotification</span>(<span class="hljs-string">`Copied as <span class="hljs-subst">${data.format}</span>`</span>);
  }
});
</code></pre></div><h2>Revision Events</h2><h3>revision-added</h3><p>Fired when a new revision is saved.</p><p><strong>Event Data:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">{
  <span class="hljs-attr">revision</span>: number,    <span class="hljs-comment">// Revision number</span><span class="hljs-attr">content</span>: string,     <span class="hljs-comment">// Content snapshot</span><span class="hljs-attr">contentType</span>: string, <span class="hljs-comment">// Content type</span><span class="hljs-attr">timestamp</span>: number    <span class="hljs-comment">// Unix timestamp</span>
}
</code></pre></div><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'revision-added'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Revision <span class="hljs-subst">${data.revision}</span> saved`</span>);
  <span class="hljs-title function_">updateRevisionIndicator</span>(data.<span class="hljs-property">revision</span>);
});
</code></pre></div><hr><h3>undo</h3><p>Fired when undo is performed.</p><p><strong>Event Data:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">{
  <span class="hljs-attr">revision</span>: number,    <span class="hljs-comment">// Current revision after undo</span><span class="hljs-attr">content</span>: string,     <span class="hljs-comment">// Restored content</span><span class="hljs-attr">contentType</span>: string  <span class="hljs-comment">// Restored content type</span>
}
</code></pre></div><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'undo'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Undone to revision:'</span>, data.<span class="hljs-property">revision</span>);
  <span class="hljs-title function_">updateUndoRedoButtons</span>();
});
</code></pre></div><hr><h3>redo</h3><p>Fired when redo is performed.</p><p><strong>Event Data:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">{
  <span class="hljs-attr">revision</span>: number,    <span class="hljs-comment">// Current revision after redo</span><span class="hljs-attr">content</span>: string,     <span class="hljs-comment">// Restored content</span><span class="hljs-attr">contentType</span>: string  <span class="hljs-comment">// Restored content type</span>
}
</code></pre></div><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'redo'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Redone to revision:'</span>, data.<span class="hljs-property">revision</span>);
  <span class="hljs-title function_">updateUndoRedoButtons</span>();
});
</code></pre></div><h2>Lifecycle Events</h2><h3>ready</h3><p>Fired when the editor is fully initialized and ready.</p><p><strong>Event Data:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">{
  <span class="hljs-attr">version</span>: string,     <span class="hljs-comment">// SquibView version</span><span class="hljs-attr">contentType</span>: string, <span class="hljs-comment">// Initial content type</span><span class="hljs-attr">view</span>: string        <span class="hljs-comment">// Initial view mode</span>
}
</code></pre></div><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'ready'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Editor ready:'</span>, data);
  <span class="hljs-title function_">loadInitialContent</span>();
});
</code></pre></div><hr><h3>destroy</h3><p>Fired when the editor is being destroyed.</p><p><strong>Event Data:</strong> None</p><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-property">events</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'destroy'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Editor destroyed'</span>);
  <span class="hljs-title function_">cleanupResources</span>();
});
</code></pre></div><h2>Plugin Events</h2><h3>plugin-register</h3><p>Fired when a plugin (renderer) is registered.</p><p><strong>Event Data:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">{
  <span class="hljs-attr">type</span>: string,       <span class="hljs-comment">// Content type</span><span class="hljs-attr">name</span>: string,       <span class="hljs-comment">// Plugin name</span><span class="hljs-attr">hasButtons</span>: boolean <span class="hljs-comment">// Whether plugin adds buttons</span>
}
</code></pre></div><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'plugin-register'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Plugin registered: <span class="hljs-subst">${data.name}</span> for <span class="hljs-subst">${data.type}</span>`</span>);
});
</code></pre></div><hr><h3>plugin-render</h3><p>Fired when a plugin renders content.</p><p><strong>Event Data:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">{
  <span class="hljs-attr">type</span>: string,        <span class="hljs-comment">// Content type</span><span class="hljs-attr">input</span>: string,       <span class="hljs-comment">// Source content</span><span class="hljs-attr">output</span>: string,      <span class="hljs-comment">// Rendered output</span><span class="hljs-attr">pluginName</span>: string   <span class="hljs-comment">// Plugin that rendered</span>
}
</code></pre></div><p><strong>Example:</strong></p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'plugin-render'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${data.pluginName}</span> rendered <span class="hljs-subst">${data.type}</span> content`</span>);
});
</code></pre></div><h2>Custom Events</h2><p>You can emit and listen to custom events for plugin communication:</p><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript"><span class="hljs-comment">// Emit a custom event</span>
editor.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'my-plugin:action'</span>, {
  <span class="hljs-attr">action</span>: <span class="hljs-string">'process'</span>,
  <span class="hljs-attr">data</span>: { <span class="hljs-comment">/* ... */</span> }
});

<span class="hljs-comment">// Listen to custom events</span>
editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'my-plugin:action'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (data.<span class="hljs-property">action</span> === <span class="hljs-string">'process'</span>) {
    <span class="hljs-title function_">processPluginData</span>(data.<span class="hljs-property">data</span>);
  }
});
</code></pre></div><h2>Event Patterns</h2><h3>Global Event Handlers</h3><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript"><span class="hljs-comment">// Log all events</span><span class="hljs-keyword">const</span> events = [
  <span class="hljs-string">'content-change'</span>, <span class="hljs-string">'view-change'</span>, <span class="hljs-string">'type-change'</span>,
  <span class="hljs-string">'render'</span>, <span class="hljs-string">'selection-change'</span>, <span class="hljs-string">'copy'</span>,
  <span class="hljs-string">'revision-added'</span>, <span class="hljs-string">'undo'</span>, <span class="hljs-string">'redo'</span>
];

events.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  editor.<span class="hljs-title function_">on</span>(event, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Event: <span class="hljs-subst">${event}</span>`</span>, data);
  });
});
</code></pre></div><h3>Debounced Event Handling</h3><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript"><span class="hljs-keyword">let</span> saveTimer;

editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'content-change'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-built_in">clearTimeout</span>(saveTimer);
  saveTimer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">saveContent</span>(data.<span class="hljs-property">content</span>);
  }, <span class="hljs-number">1000</span>); <span class="hljs-comment">// Save after 1 second of inactivity</span>
});
</code></pre></div><h3>Event Chaining</h3><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript">editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'content-change'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-comment">// Trigger custom analysis</span>
  editor.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'analyze:content'</span>, {
    <span class="hljs-attr">content</span>: data.<span class="hljs-property">content</span>,
    <span class="hljs-attr">type</span>: data.<span class="hljs-property">contentType</span>
  });
});

editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'analyze:content'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  <span class="hljs-comment">// Perform analysis</span><span class="hljs-keyword">const</span> stats = <span class="hljs-title function_">analyzeContent</span>(data);
  editor.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'analyze:complete'</span>, stats);
});
</code></pre></div><h2>Removing Event Listeners</h2><div data-source-type="javascript"><pre><code class="hljs language-javascript" data-source-type="code" data-lang="javascript"><span class="hljs-comment">// Named function handler</span><span class="hljs-keyword">const</span><span class="hljs-title function_">handler</span> = (<span class="hljs-params">data</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
};

<span class="hljs-comment">// Add listener</span>
editor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'content-change'</span>, handler);

<span class="hljs-comment">// Remove specific listener</span>
editor.<span class="hljs-title function_">off</span>(<span class="hljs-string">'content-change'</span>, handler);

<span class="hljs-comment">// Remove all listeners for an event</span>
editor.<span class="hljs-title function_">off</span>(<span class="hljs-string">'content-change'</span>);
</code></pre></div><h2>Best Practices</h2><ol><li><strong>Always remove listeners</strong> when components are destroyed</li><li><strong>Debounce frequent events</strong> like content-change for performance</li><li><strong>Use namespaced custom events</strong> to avoid conflicts (e.g., ‘myplugin:action’)</li><li><strong>Check event data</strong> before using it in handlers</li><li><strong>Handle errors</strong> in event handlers to prevent breaking the editor</li></ol><h2>See Also</h2><ul><li><a href="./SquibView.html">SquibView Class</a></li><li><a href="./methods.html">Methods Reference</a></li><li><a href="./options.html">Options Reference</a></li><li><a href="./plugins.html">Plugin Development</a></li></ul></div>
  <script>
    // Initialize MathJax after page load
    document.addEventListener('DOMContentLoaded', function() {
      if (window.MathJax && window.MathJax.typesetPromise) {
        window.MathJax.typesetPromise().catch(function(err) {
          console.warn('MathJax typesetting failed:', err);
        });
      }
    });
  </script>
  <script>
    // Initialize Mermaid after page load
    document.addEventListener('DOMContentLoaded', function() {
      if (window.mermaid) {
        try {
          window.mermaid.initialize({
            startOnLoad: false,
            theme: 'default',
            securityLevel: 'loose',
            fontFamily: 'inherit'
          });
          
          // Manually render all mermaid diagrams
          const mermaidElements = document.querySelectorAll('.mermaid');
          mermaidElements.forEach(function(element, index) {
            const id = 'mermaid-' + index;
            element.id = id;
            try {
              window.mermaid.render(id + '-svg', element.textContent, function(svgCode) {
                element.innerHTML = svgCode;
              });
            } catch (err) {
              console.warn('Mermaid rendering failed for element', index, ':', err);
              // Fallback: show the text content
              element.innerHTML = '<pre>' + element.textContent + '</pre>';
            }
          });
        } catch (err) {
          console.warn('Mermaid initialization failed:', err);
        }
      }
    });
  </script>
</body>
</html>